<!doctype html>

<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=1024" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <title>Programming Without Horsefaeces</title>

   <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
   <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
   <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
   <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
   <link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
   <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
   <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
   <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
   <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
   <link rel="icon" type="image/png" href="/favicon-192x192.png" sizes="192x192">
   <link rel="icon" type="image/png" href="/favicon-160x160.png" sizes="160x160">
   <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
   <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
   <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
   <meta name="msapplication-TileColor" content="#2d89ef">
   <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:regular,semibold,italic,italicsemibold|PT+Sans:400,700,400italic,700italic|PT+Serif:400,700,400italic,700italic|Nunito:700" rel="stylesheet" type="text/css" />

    <link href="impresst.js/impresst.css" rel="stylesheet" />
    <link href="css/styles.css" rel="stylesheet" />
</head>

<body class="impress-not-supported">

<!-- the top bar -->

<!--
<div role="console" style="position:fixed;width:30vw;height:100vh;background:hotpink;padding:1ex;font-family:Nunito;font-size:14pt">
# (fun n -&gt; n + 5) 8
<div style="background:pink;padding:8px;border-radius:7px;position:absolute;right:5px;bottom:21px">run</div>
</div>
-->

<!-- the actual content -->

<div class="fallback-message">
    <p>Your browser <b>doesn't support the features required</b> by impress.js, so you are presented with a simplified version of this presentation.</p>
    <p>For the best experience please use the latest <b>Chrome</b>, <b>Safari</b> or <b>Firefox</b> browser.</p>
</div>

<div id="impress">

   <div id="primary" class="step txt">
      <h1>Functional Programming</h1>
      <p>The focus of this course is on practical functional programming.  That means that, by the end, you should be able to write programs in a <a href="#functional-style">functional <em>style</em></a> and in a <span title="A language which makes it easy to program in a functional <em>style</em>.">functional <em>language</em></span>.</p>

      <p>You can do functional programming in many <span title="C#, Java, JavaScript, Python, Ruby, ...">modern languages</span>.  However, to learn functional programming, it is worthwhile to use a language which emphasises a functional-first approach; otherwise, it will be very easy to fall into bad old non-functional habits.  We will be using F#, a multi-paradigm language with a functional-first emphasis.</p>

      <p>We'll start our exploration of F# by looking at things that <a href="#tut-same">you might be familiar with</a>.</p>
   </div>

   <div id="tut-same" class="step txt">
       <h1>Things that are the same</h1>
       <ul>
           <li>Just as in C# or Java or other statically-typed languages, everything has a <em>type</em>.  Most of the basic types in F# are familiar to you already: <code>int</code>, <code>string</code>, <span title="You might know this as <code>double</code>"><code>float</code></span>, <code>char</code>, and <code>bool</code>.</li>
           <li>Just as in other languages, there are relational operators.  I've highlighted the syntax that is different in F#.
               <table>
                   <thead>
                       <tr>
                           <th>C#/Java syntax</th>
                           <th>F# syntax</th>
                       </tr>
                   </thead>
                   <tbody>
                       <tr>
                           <td>a &gt; b</td>
                           <td>a &gt; b</td>
                       </tr>
                       <tr>
                           <td>a &lt; b</td>
                           <td>a &lt; b</td>
                       </tr>
                       <tr>
                           <td>a &gt;= b</td>
                           <td>a &gt;= b</td>
                       </tr>
                       <tr>
                           <td>a &lt;= b</td>
                           <td>a &lt;= b</td>
                       </tr>
                       <tr class="highlight">
                           <td>a == b</td>
                           <td>a = b</td>
                       </tr>
                       <tr class="highlight">
                           <td>a != b</td>
                           <td>a &lt;&gt; b</td>
                       </tr>
                   </tbody>
               </table>
           </li>
           <li>The usual C-style mathematical operators (<code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, <code>%</code>) are all present, and have the meanings you would expect.</li>
           <li>The scoping rules for variables are mostly the same as the ones you're used to.</li>
       </ul>
       <p>There are also things, mostly stemming from the <a href="#functional-style">functional style of programming</a>, which are <a href="#tut-different">different</a>.</p>
   </div>

   <div id="tut-different" class="step txt">
       <h1>Differences</h1>
       <p>I've broken this down into minor differences and major differences.  The minor ones are easy to get used to; the major ones might require a bit of mental adjustment.</p>
       <h2>Minor differences</h2>
       <ul>
           <li>Indentation is significant.  Unlike in C# and Java, where <code>{</code> and <code>}</code> are used to show blocks and scoping, in F# (and <span title="Python, Ruby, CoffeeScript, Haskell, ...">other languages</span>) the level of indentation shows where a block begins and ends.</li>
           <li>All variables are <em>immutable</em>: the value of a variable <span title="Yes, I really do mean <q>never</q>!">can <strong>never</strong> be changed</span>.  In fact, all values are immutable: once created, they can never be changed.  I will often use the words <q>symbol</q> or <q>value</q> instead of <q>variable</q> to emphasise this difference.</li>
       </ul>
       <h2>Major differences</h2>
       <ul>
           <li>Instead of assignment, we use <em>binding</em>.  In fact, binding is used in place of <code>if</code>-statements, and we use binding when we use any sort of data structure in F#.</li>
           <li>Functions are <a href="#first-class-functions">first-class</a>.</li>
           <li>Instead of <span title="<code>while</code>, <code>for</code>, <code>foreach</code>, ...">explicit loops</span>, we use <span title="Recursion is the process of a function calling itself so that its code can be repeatedly executed.">recursion</span>.</li>
       </ul>
       <p>We'll discuss binding by looking at the most common type of binding: <a href="#binding">let-binding</a>.
   </div>

   <div id="first-class-functions" class="step txt">
       <h1>First-class functions</h1>
       <p><q>First-class</q> means that you can do anything with a function that you would be able to do with a value.  But what does that mean, in practical terms?  Here are some similarities between functions and values:</p>
       <ul>
           <li>You can give a value a name (we usually call this a <em>variable</em>), and you can give a function a name</li>
           <li>You can pass a value around as a parameter, and you can pass a function around as a parameter</li>
           <li>You can store a value in a list or other data structure, and you can store a function in a list or other data structure</li>
           <li>You can use a value as part of a <span title="A type made up of other types. For example, a <em>class</em> in C# is a composite type.">composite type</span>, and you can use a function as part of a composite type</li>
           <li>You can give more than one name to a value (this is called <em>aliasing</em>), and you can give more than one name to a function</li>
           <li>You can return a value from a function, and you can return a function from a function</li>
           <li>Every value has a type, and every function has a type</li>
           <li>You can create literal values (i.e. values not associated with any variable name), and you can create literal functions (these are called <em>lambda functions</em>)</li>
           <li>You can create a value at runtime based on user input, and you can create a function at runtime based on user input</li>           
       </ul>
       <p>...and much, much more!  If in doubt, ask yourself whether you would be able to do a particular thing with a value.  If the answer is <q>yes</q>, then you are probably able to do the same thing with a function.</p>
   </div>

   <div id="function-types" class="step txt">
       <h1>Function types</h1>
       <p>Let's recall the definition of a <a href="#functions-part-1">function</a>: a function is something that takes one input and produces one output.  We also know that all things in F# have a <a href="#types">type</a> associated with them.  This means that both the input and the output of a function will have a type.  We can therefore represent the type of a function in terms of its input and output!</p>
       <p>For example, let's take a look at the function</p>
       <pre><code>
               fun p -&gt; p > 15.9
       </code></pre>
       <p>Using <a href="#type-inference">type inference</a>, we can see that the input is a <code>float</code> and the output is a <code>bool</code>.  So, we can say that the type of the function is <code>float&nbsp;-&gt;&nbsp;bool</code>.</p>
   </div>

   <div id="type-annotations" class="step txt">
       <h1>Type annotations</h1>
       <p>A type annotation is used to explicitly tell the compiler what the type of a symbol is.  It is only used when the <a href="#type-inference">type inference</a> algorithm fails or returns the incorrect result.</p>
       <p>Type annotations do not <em>coerce</em> a type; in other words, they do not <em>cast</em> or <em>convert</em> a type into another type.  So, for example, you cannot use type annotations to turn an <code>int</code> into a <code>float</code>, or vice versa.  The only thing that type annotations do is specify what a type is, thus providing information for the type inference system to work with.</p>
       <p>To annotate a symbol, put <span title="(&nbsp;)">round brackets</span> around it, put a colon after it, and then write down the symbol's type.  So, to annotate the symbol <code>zippy</code> in</p>
       <pre><code>
	            fun zippy -> zippy + " is happy"
       </code></pre>
       <p>...you would write:</p>
       <pre><code>
	            fun (zippy:string) -> zippy + " is happy"
       </code></pre>
       <p>Note that the annotation occurs where the variable is defined, and not where it is used.</p>
   </div>

   <div id="lists-todo" class="step txt">
       <h1>Lists</h1>
       <p>The built-in list type in F# is a singly-linked list with special syntax to make creation and use easy.</p>
       
   </div>

   <div id="generic" class="step txt">
       <h1>Generic types</h1>
       <p>A symbol which has a <em>generic</em> type is one which can legitimately be any type.  For example, let's consider a very simple function:</p>
       <pre><code>
	            <span title="This is called the <em>identity</em> function, FYI">fun x -> x</span>
       </code></pre>
       <p>It takes an input, and gives you the same input back.  The type of the input doesn't matter: this function can work with any type.  If you give it a <code>string</code> as input, then the output type is <code>string</code>.  If you give it an <code>int</code> as input, then the output type is <code>int</code>.</p>
       <p>The word <q>generic</q> means <q>works with any type</q>.  It's very important to understand what <q>generic</q> <em>doesn't</em> mean, too.</p>
       <ul>
	        <li><q>generic</q> doesn't mean <q>has no type</q>.  The symbol <code>x</code> <em>does</em> have a type, and the type that it has is determined at runtime, based on the context of the call.</li>
	        <li><q>generic</q> doesn't mean <q>dynamic type</q>.  The type of <code>x</code> is not changeable once it is known!  If I pass in an <code>int</code>, I'm going to get an <code>int</code> back &mdash; not a <code>float</code>, or a <code>string</code>, or something else.  There's no <q>back door</q> that circumvents the static type system here.</li>
       </ul>
       <p>Conventionally, we indicate a generic type by using an apostrophe and a lowercase letter.  So instead of saying that <code>x</code> has type <code>string</code> or <code>float</code> &mdash; although those are types that it might take on at runtime &mdash; we say that <code>x</code> has type <code>'a</code>.  If there was a second generic type, we'd say that it had type <code>'b</code>, and so on.</p>
       <p>When two or more generic types are guaranteed to be the same, then we use the same lowercase letter for all of them.  For example, the function above is guaranteed to return the same type that it takes in, so its <a href="#function-types">function type</a> is <code>'a&nbsp;-&gt;&nbsp;'a</code></p>
   </div>

   <div id="type-inference" class="step txt">
       <h1>Type inference</h1>
       <p>In a language like C# or Java, you usually specify the <em>type</em> of a variable.  For example, you might say</p>
       <pre><code>
               string j = "Dvorak";
       </code></pre>
       <p>Now, look at that code again.  We're initializing <code>j</code> to have the value <code>"Dvorak"</code>.  We know that <code>"Dvorak"</code> is a <code>string</code>, so why do we have to explicitly tell the compiler that <code>j</code> is a <code>string</code>?  Why can't the compiler be smart enough to figure this out by itself, using the context of the rest of the program?</p>
       <p>That kind of <q>smartness</q> is called <em>type inference</em>.  Type inference is about <span title="<strong>infer</strong> (ɪnˈfəː) <em>verb</em>: to deduce or conclude (something) from evidence and reasoning rather than from explicit statements. [Google Dictionary]">inferring</span> the type of a symbol by looking at the evidence of the rest of the program and reasoning <q>backwards</q>.</p>
       <p>In this course, I'll be satisfied by a layman's intuitive grasp of practical type inference, though if you're interested in the gory details, I can strongly recommend reading about the <a href="http://en.wikipedia.org/wiki/Hindley%E2%80%93Milner_type_system" target="_new">Hindley&mdash;Milner-style type inference</a>.</p>
       <p>Type inference in F# usually works from top to bottom, left to right &mdash; though it occasionally goes a bit further than this.  When F# tries to figure out what the type of a symbol is, it first looks to see whether you've explicitly told it that a symbol has a particular type using a <a href="#type-annotations">type annotation</a>.  If you haven't explicitly told it anything about the symbol, then it looks at what the symbol interacts with; for example, if the symbol is used as the input of a function that takes a string, then the symbol must be a string &mdash; otherwise, it would be illegal to use the symbol when you're calling the function.  Lastly, if there aren't any constraints whatsoever on the type of the symbol, then the symbol is assumed to be <a href="#generic">generic</a>.  In fact, F# goes a step further than this, and can make symbols <em>as generic as possible</em>; we'll see an example of this later on.</p>
       <p>Let's work through some simple examples:</p>
       <ul>
           <li><a href="#ti-literal">Simple type inference</a></li>
           <li><a href="#ti-function">Slightly more complex type inference</a></li>
           <li><a href="#ti-annotation">Type inference with annotations</a></li>
       </ul>
       <p>If a symbol is ever <a href="#ti-inconsistent">used inconsistently</a>, then your F# program will fail to compile.</p>
       <p>Remember that the type inference works from <em>top to bottom</em>.  That means that you must define a symbol <em>above</em> the place where it is used.  Otherwise, the compiler will legitimately say that your symbol has not been defined.</p>
       <p>F#'s type inference is reasonably advanced, though not foolproof.  If it fails, for whatever reason, then you should use your understanding of the type inference process to figure out why it has failed and take corrective action.  This is often as simple as correcting an error in your reasoning, reorganising your code, or adding in a type annotation.</p>
   </div>

   <div id="ti-inconsistent" class="step txt">
       <p>(If you haven't read about <a href="#functions-part-1">functions</a>, you should do that now!).  Given the code</p>
       <pre><code>
               (fun m -&gt; m * 2) "kitty"
       </code></pre>
       <p>...type inference would go something like this:</p>
       <ol>
           <li>There's a function.  What is the <a href="#function-types">type of the function</a>?  I'll need to find input and output types.</li>
           <li>There's a <code>m</code> symbol.  What could it be?</li>
           <li>In the body of the function, <code>m</code> is multiplied by <code>2</code>.  This only makes sense if <code>m</code> is an <code>int</code>, so <code>m</code> must be an <code>int</code></li>
           <li>I can see that there is a <code>string</code> (i.e. <code>"kitty"</code>) supplied as the input for the function</li>
           <li>If <code>m</code> wasn't a <code>string</code>, then calling the function with this input would be illegal.  So, for this to be legal, <code>m</code> must be a <code>string</code></li>
           <li>According to (3), <code>m</code> is an <code>int</code>.  But according to (5), <code>m</code> must be a <code>string</code>.  This is inconsistent.</li>
       </ol>
       <p>At this point, the type inference algorithm will fail, and you'll see the error message <samp>The type 'int' does not match the type 'string'</samp>.</p>
   </div>

   <div id="ti-literal" class="step txt">
       <p>(If you haven't read about <a href="#functions-part-1">functions</a>, you should do that now!).  Given the code</p>
       <pre><code>
               fun k -&gt; k / 4.0
       </code></pre>
       <p>...type inference would go something like this:</p>
       <ol>
           <li>There's a function.  What is the <a href="#function-types">type of the function</a>?  I'll need to find input and output types.</li>
           <li>There's a <code>k</code> symbol.  What could it be?</li>
           <li><code>k</code> is divided by <code>4.0</code>.  I know that <code>4.0</code> is a <code>float</code></li>
           <li>The only way that this code can make sense is if <code>k</code> was also a <code>float</code></li>
           <li>Therefore, <code>k</code> is a <code>float</code></li>
           <li>The input is a <code>float</code> and the output is a <code>float</code>.  So the function must have the type <code>float&nbsp;-&gt;&nbsp;float</code></li>
       </ol>
   </div>

   <div id="ti-function" class="step txt">
       <p>(If you haven't read about <a href="#functions-part-1">functions</a>, you should do that now!).  Given the code</p>
       <pre><code>
               (fun m -&gt; m+m) "kitty"
       </code></pre>
       <p>...type inference would go something like this:</p>
       <ol>
           <li>There's a function.  What is the <a href="#function-types">type of the function</a>?  I'll need to find input and output types.</li>
           <li>There's a <code>m</code> symbol.  What could it be?</li>
           <li>In the body of the function, <code>m</code> is added to itself.  Hm.  I know that I can use the <code>+</code> operator between <code>int</code>s or <code>float</code>s or <code>string</code>s or a few other types.  If I don't have any other evidence, I'll decide that <code>m</code> is an <code>int</code>.</li>
           <li>I can see that there is a <code>string</code> (i.e. <code>"kitty"</code>) supplied as the input for the function</li>
           <li>If <code>m</code> wasn't a <code>string</code>, then calling the function with this input would be illegal.  So, for this to be legal, <code>m</code> must be a <code>string</code></li>
           <li>So inside the function, <code>m+m</code> must mean string concatenation, since I know that <code>m</code> is a <code>string</code></li>
           <li>Therefore, the output of the function is a <code>string</code></li>
           <li>The input is a <code>string</code> and the output is a <code>string</code>.  So the function must have the type <code>string&nbsp;-&gt;&nbsp;string</code></li>
       </ol>
   </div>

   <div id="ti-annotation" class="step txt">
       <p>(If you haven't read about <a href="#functions-part-1">functions</a> and <a href="#type-annotations">type annotations</a>, you should do that now!).  Given the code</p>
       <pre><code>
               fun (m:float) -&gt; m+m
       </code></pre>
       <p>...type inference would go something like this:</p>
       <ol>
           <li>There's a function.  What is the <a href="#function-types">type of the function</a>?  I'll need to find input and output types.</li>
           <li>There's a <code>m</code> symbol.  The annotation says that it is a <code>float</code>.  Therefore, it is a <code>float</code>.</li>
           <li>In the body of the function, <code>m</code> is added to itself.  This is legal when <code>m</code> is a <code>float</code>, and the result will be a <code>float</code></li>
           <li>Therefore, the output of the function is a <code>float</code></li>
           <li>The input is a <code>float</code> and the output is a <code>float</code>.  So the function must have the type <code>float&nbsp;-&gt;&nbsp;float</code></li>
       </ol>
   </div>

   <div id="functional-style" class="step txt">
      <img style="height:4em;float:left" src="https://openclipart.org/people/jeeeyul/gangnam-style.svg" />
      <h1>Functional style</h1>
      <p>A functional style of programming is characterised by</p>
      <ul>
         <li><em>Immutability</em>: values, once created, can never be modified.  In other words, data is not <em>mutable</em>.</li>
         <li><em>First-class functions</em>: you can call and define functions as usual, and you can also <a href="#first-class-functions">do anything with a function that you would be able to do with a value</a>.</li>
         <li><em>Purity</em>: a pure function has no side-effects and does not depend on anything except its input.
            <ul>
               <li>A <em>side-effect</em> is anything that a function does <em>above and beyond</em> returning a value.  For example, writing to a database, printing something to the screen, or altering an object's state are all side-effects.</li>
               <li>An external dependency might involve reading the system clock, using a random number generator, or reading data from the network.</li>
            </ul>
         </li>
         <li><em>Expressions</em>: the vast majority of code in a functional program is written as expressions, not statements.  The difference between an expression and a statement is that an expression generates a value, and a statement does not.  For example, in C#, <code>2+7</code> is an expression and <code>while (false) { }</code> is a statement.  We can <span title="<code>int x = 2+7;</code> is legal">assign the former to a variable</span> because it generates a value, but we <span title="<code>void x = while (false) { }</code> is illegal">cannot do this for the latter</span> because there is no value generated that could be assigned to a variable.</li>
      </ul>
      <p>It seems obvious that first-class functions are better than the <q>conventional</q> methods and functions that you've seen so far in your Computer Science courses.  First-class functions can do everything that <q>ordinary</q> functions can do, and more &mdash; they're like <span title="Not to be taken as an endorsement of steroid use.  If you want medical advice, go and see a doctor, not a Computer Scientist.">functions on steroids</span>.  But what about <em>purity</em> and <em>immutability</em>?  <a href="#fp-benefits">Why are those useful?</a></p>
   </div>

    <div id="functions-part-1" class="step txt">
		<h1>Functions, Part I</h1>
      <p>A function is something that takes <em>one</em> input and produces <em>one</em> output.  Another way of phrasing the same thing is: a function is something which, when given an input, will produce an output.</p>
      <p>We'll talk about F# functions later on.  For now, let's consider an abstract function which, when given an integer <code>n</code>, will give back <code>n+5</code>.  In C#, you might have written</p>
      <pre><code>
         int AddFive(int n) {
            return n + 5;
         }
      </code></pre>
      <p>So, if I give <code>8</code> as an input, I'll get back <code>13</code> as the output.  We can write down the essentials of this abstract function as:</p>
      <pre><code>
         n -&gt; n + 5
      </code></pre>
      <p>On the left side of the <code>-&gt;</code>, we have the <em>input</em>.  On the right side, we have the <em>output</em>.</p>
      <p>Now, a function is nice, but it does me no good to just have a function sitting around and doing nothing.  I'd like to <em>apply</em> it (in Computer Science, we'd say that I want to <em>call</em> the function), and to do that I must give it an input.  To give this function an input, I'll enclose the function in parentheses, and give it the input just after the parentheses, separated by a space.  That will make it easy for me to see where the function ends and where the input begins.</p>
      <pre><code>
         (n -&gt; n + 5) 8
      </code></pre>
      <p>Remember: when a function is given an input, it provides its output.  So the above expression is semantically equivalent to this:</p>
      <pre><code>
         13
      </code></pre>
      <p>Note that, because a function always produces an output, all functions are <a href="#functional-style">expressions</a>.</p>
      <p>Make sure that you see how this works &mdash; and, especially, make sure that you understand the definition of a <em>function</em>.  Also pay attention to the notation I've been using for an abstract function.  You'll see me using the same notation later on.</p>
      <p>When you're ready to move on, let's take a look at what <a href="#functions-part-2">a real function looks like in F#</a>.</p>
    </div>

    <div id="functions-part-2" class="step txt">
      <h1>Functions, Part II</h1>
      <p>In F#, here's how you would write down the abstract <code>n -&gt; n + 5</code> function:</p>
      <pre><code>
         fun n -&gt; n + 5
      </code></pre>
      <p>And here's how you would <em>apply</em> (<span title="I'll use both terms interchangeably">or <em>call</em></span>) a function:</p>
      <pre><code>
         (fun n -&gt; n + 5) 8
      </code></pre>
      <p>...giving you the result</p>
      <pre><code>
         13
      </code></pre>
      <p>You'll note that this syntax is almost exactly the same as the abstract notation that <a href="#functions-part-1">you saw before</a>.  There's no need for an explicit <q>return</q> statement: the output of a function is the last value that the function generates.</p>
      <hr />
      <p>Be sure that you understand what's going on before we proceed!  Here's a recap of the important points:</p>
      <ul>
         <li>A function always takes <em>exactly one</em> input and produces <em>exactly one</em> output</li>
         <li>The input is on the left of the <code>-&gt;</code> and the output is on the right of the <code>-&gt;</code>
         <li>A function is an <a href="#functional-style">expression</a></li>
         <li>The input to a function is separated from the function by a space</li>
         <li>When you give a function its input (i.e., when you <em>call</em> the function), the result is its output</li>
      </ul>
      
    </div>

    <div id="data" class="step txt">
        <h1>Data</h1>
        <p>Data in F# comes in many <a href="#types">types</a>.  Both data and <a href="#functions-part-1">functions</a> can be <a href="#binding">bound</a> to <em>symbols</em> (or <span title="I will use the two terms interchangeably"><em>variables</em></span>), which makes them more convenient to use.</p>
    </div>

    <div id="binding" class="step txt">
        <h1>Binding</h1>
        <p>Binding is the process of associating zero or more symbols with some data.  The simplest kind of binding is a <code>let</code>-binding such as</p>
        <pre><code>
                let abc = 95
        </code></pre>
        <p>Though it resembles assignment, there are two very important differences between binding and assignment:</p>
        <ol>
            <li>Bindings use <em>patterns</em></li>
            <li>Bindings can <em>fail</em></li>
        </ol>
        <p>The form of a <code>let</code> binding is:</p>
        <pre><code>
                let <u>pattern</u> = <u>value</u>
        </code></pre>
        <p>In the above code, the symbol <code>abc</code> is a simple pattern that <span title="This happens at compile-time, not runtime">F# attempts to <em>match</em> with the provided value</span>.  Essentially, F# asks the question: what possible type and value should <code>abc</code> have in order to make the two sides equivalent?  In this case, the only possible type is <code>int</code>, and the only possible value is <code>95</code>.  Therefore, the symbol <code>abc</code> is given the value <code>95</code>.</p>
        <p>Unlike assignment, this way of interpreting things means that the following code is perfectly legal and compilable:</p>
        <pre><code>
                let 31337 = 31337
        </code></pre>
        <p>Here we match the value <code>31337</code> against the constant pattern <code>31337</code>.  The two sides match, and the program proceeds.  But if we were to write</p>
        <pre><code>
                let "batman" = "joker"
        </code></pre>
        <p>...then the value <code>"joker"</code> would be matched against the constant pattern <code>"batman"</code>.  The program <span title="Though you would get a warning: the F# compiler is smart enough to catch simple mistakes.">would compile</span> &mdash; the code is perfectly legal!  However, at runtime, executing this would result in a <samp>MatchFailureException</samp>, which is what F# uses to indicate that a matching binding couldn't be found.</p>
        <p>All of this seems to be a complicated, unnecessary way to do something as simple as assignment.   But binding is used for much more than assignment &mdash; you will see binding at work in many different parts of the language.  Let's look at the <a href="#match-expressions"><code>match</code> expression</a>, which relies upon both patterns and failure.</p>
    </div>

    <div id="match-expressions" class="step txt">
    </div>

    <div id="types" class="step txt">
        <h1>Types</h1>
        <p>F# is a statically-typed, strongly-typed language (<span title="For example, <a href=&quot;http://en.wikipedia.org/wiki/Lisp_(programming_language)&quot; target=&quot;_new&quot;>Lisp</a> and <a href=&quot;http://en.wikipedia.org/wiki/Erlang_(programming_language)&quot; target=&quot;_new&quot;>Erlang</a> are functional languages that are dynamically-typed and strongly-typed.">not all functional programming languages are like this!</span>).   This means that in F#, everything has a type which is known at compile-time.  You're already familiar with some of these types (<code>int</code>, <code>string</code>, <span title="This is called <code>double</code> in C#"><code>float</code></span>, <code>bool</code>, and <code>char</code>, for example).  Unlike in C# or Java, types are usually <a href="#type-inference">inferred</a>, so you (usually!) don't have to specify the type of anything explicitly.  Above and beyond the usual basic types, there is also the <a href="#unit-type"><code>unit</code> type</a>; <a href="#functions-part-1">functions</a> have <a href="#function-types">types</a>; and types can be <a href="#generic">generic</a> (i.e., they can be anything as long as it makes sense within the program context).</p>
        <p>All of the above <span title="<img style=&quot;width:50%;float:left;margin-right:1ex&quot; src=&quot;http://www.e-action.us/wsfilmfestival/images/captplanet.jpg&quot; /><q>When your types combine, ...</q>">can be combined to form</span> larger <em>composite types</em>.  A class in C# is an example of a <em>composite</em> type: it is a type which contains other types.  F# supports <span title="...including objects, but we won't be using objects in this module at all">a wide variety of composite types</span> which are useful in a variety of situations.  Each type has <a href="#defined-created-decomposed">a way of being defined, a way of being created, and ways of being decomposed</a>.</p>
        <ul>
            <li>To represent a group of data where each element has the <em>same</em> type, you would use a <a href="#lists">list</a>.  Example use-case: representing the names of every member of the class.  (You could also use an array, and F# supports arrays natively; but lists are a more functional data structure, so we'll be using them instead).</li>
            <li>To represent a group of data where elements have <em>different</em> types, you would use a <a href="#tuples">tuple</a> or a <a href="#records">record</a>.  Example use-case: representing the name, height, and weight of every member of the class.</li>
            <li>To represent a data which must be one of a limited set of known categories, you would use a <a href="#discriminated-unions">discriminated union</a>.  Example use-case: representing an atomic particle as <span title="It is impossible for an atomic particle to be anything except for one of these, and an atomic particle cannot be more than one of these."><em>one of</em> Electron, Neutron, or Proton</span>.
        </ul>
        <p>Of course, you can use composite types to create other composite types!  For example, you can make a list of discriminated unions, where each discriminated union has a tuple or record associated with it, and each record has a field that is a discriminated union, which might be associated with a list &hellip; and so on.</p>
    </div>
    
    <div id="unit-type" class="step txt">
        <h1>The <code>unit</code> type</h1>
        <p>The <code>unit</code> type has a single possible value: <code>()</code> .  If you think this is strange, it's not much stranger than the <code>bool</code> type only having two possible values: <code>true</code> and <code>false</code>.</p>
        <p>A <code>()</code> value is often supplied to <a href="#functions-part-1">functions</a> where the input is disregarded, and it is often the output of functions where the output is irrelevant.  Aside from these cases, you will rarely see a <code>()</code> being used in functional code.</p>
    </div>
    
    <div id="defined-created-decomposed" class="step txt">
        <h1>Definition, Creation, and Decomposition</h1>
        <p>It sounds complicated to say that every composite type has a way of being defined, created, and decomposed &hellip; but it's not complicated.  In fact, you already know how to do it, and you've been doing it for years in a non-functional language.  If you don't believe me, read on, and you'll see that it's true!</p>
        <p>Let's use C# as our language, and a class as our composite type.  We'll start with an empty class.</p>
        <pre><code>
                class Wtf {
                }
        </code></pre>
        <p>Now, you want to add an <code>int</code> property to this class &mdash; in other words, you want to <em>define</em> some of the data that makes up the composite type.  So, you write</p>
        <pre><code>
                class Wtf {
                    public int Ftw { get; set; }
                }
        </code></pre>
        <p>When you want to <em>create</em> an instance of the class, you write</p>
        <pre><code>
                Wtf v = new Wtf();
        </code></pre>
        <p>And when you want to get the value of the <code>int</code> from inside the object &mdash; in other words, you want to <em>decompose</em> the object to get at the actual data inside it &mdash; you would write</p>
        <pre><code>
                int whatever = v.Ftw;
        </code></pre>
        <p>Take a look at the code above.  It's not unfamiliar or complex; by now, you should have created and used hundreds of classes in your own projects.  Can you see that you write completely different code to <em>define</em>, <em>create</em>, and <em>decompose</em> a composite type in C#?  In <span title="C, Python, Java, JavaScript, ...">other languages</span> that you've used, you'll notice exactly the same definition, creation, and decomposition of data types.</p>
        <p>Definition, creation, and decomposition are all interrelated.  After all, you cannot create something that you haven't defined; you can't decompose what hasn't been defined or created; and there's no point in defining or creating unless you can decompose to get the data out.</p>
        <p>The same applies to types in F#.  Each type has a way in which it is defined; a way in which it is created; and ways in which it is decomposed.  Once you learn how to define, create, and decompose a type, you will be able to use a type.</p>
    </div>
    
    <script src="impresst.js/impresst.js"></script>
    <script>
    impress().init();
    (function(){
        var linked = [].slice.call(document.querySelectorAll('a')).map(function(x){return x.attributes.href.value}).filter(function(x){return x[0]==='#'});
        var linked_set = new Set(linked);
        var created = [].slice.call(document.querySelectorAll("div.step.txt")).map(function(x){return '#' + x.id;});
        var created_set = new Set(created);
        // linked, but not created
        linked.filter(function(x){return !created_set.has(x)}).forEach(function(x){console.log('Linked, but not created: ' + x);});
        // created, but not linked
        created.filter(function(x){return x!=='#primary'&&!linked_set.has(x)}).forEach(function(x){console.log('Created, but not linked: ' + x);});        
    })();
    </script>
    
</body>
</html>

