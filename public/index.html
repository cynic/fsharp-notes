<!doctype html>

<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=1024" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <title>F#ing programming basics</title>

   <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
   <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
   <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
   <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
   <link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
   <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
   <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
   <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
   <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
   <link rel="icon" type="image/png" href="/favicon-192x192.png" sizes="192x192">
   <link rel="icon" type="image/png" href="/favicon-160x160.png" sizes="160x160">
   <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
   <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
   <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
   <meta name="msapplication-TileColor" content="#2d89ef">
   <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:regular,semibold,italic,italicsemibold|PT+Sans:400,700,400italic,700italic|PT+Serif:400,700,400italic,700italic|Nunito:700" rel="stylesheet" type="text/css" />

    <link href="impresst.js/impresst.css" rel="stylesheet" />
    <link href="css/styles.css" rel="stylesheet" />
</head>

<body class="impress-not-supported">

<!-- the top bar -->

<!--
<div role="console" style="position:fixed;width:30vw;height:100vh;background:hotpink;padding:1ex;font-family:Nunito;font-size:14pt">
# (fun n -&gt; n + 5) 8
<div style="background:pink;padding:8px;border-radius:7px;position:absolute;right:5px;bottom:21px">run</div>
</div>
-->

<!-- the actual content -->

<div class="fallback-message">
    <p>Your browser <b>doesn't support the features required</b> by impress.js, so you are presented with a simplified version of this presentation.</p>
    <p>For the best experience please use the latest <b>Chrome</b>, <b>Safari</b> or <b>Firefox</b> browser.</p>
</div>

<div id="impress">

   <div id="primary" class="step txt">
      <h1>Functional Programming</h1>
      <p>The focus of this course is on practical functional programming.  That means that, by the end, you should be able to write programs in a <a href="#functional-style">functional <em>style</em></a> and in a <span title="A language which makes it easy to program in a functional <em>style</em>.">functional <em>language</em></span>.</p>

      <p>You can do functional programming in many <span title="C#, Java, JavaScript, Python, Ruby, ...">modern languages</span>.  However, to learn functional programming, it is worthwhile to use a language which emphasises a functional-first approach; otherwise, it will be very easy to fall into bad old non-functional habits.  We will be using F#, a multi-paradigm language with a functional-first emphasis.</p>

      <p>We'll start our exploration of F# by looking at things that <a href="#tut-same">you might be familiar with</a>.</p>

      <h2>Index</h2>
      <ul>
          <li><strong>Theory</strong>
              <ul>
                  <li><a href="#functional-style">The functional style of programming</a></li>
                  <li><a href="#first-class-functions">First-class functions</a></li>
                  <li><a href="#referential-transparency">Referential transparency</a></li>
                  <li><a href="#ndcd">Naming, Definition, Creation, and Decomposition</a></li>
                  <li><a href="#type-inference">Type inference</a></li>
                  <li><a href="#generic">Generic types</a></li>
              </ul>
          </li>
          <li><strong>Patterns</strong>
              <ul>
                  <li><a href="#constant-pattern">Constant</a></li>
                  <li><a href="#variable-pattern">Variable</a></li>
                  <li><a href="#wildward-pattern">Wildcard</a></li>
                  <li><a href="#list-pattern">List</a> (incl. cons &amp; list)</li>
                  <li><a href="#tuple-pattern">Tuple</a></li>
                  <li><a href="#record-pattern">Record</a></li>
                  <li><a href="#case-pattern">Case</a></li>
                  <li>
              </ul>
          </li>
          <li><strong>Practice</strong>
              <ul>
                  <li><a href="#binding">Binding (and <code>let</code> binding)</a></li>
                  <li><a href="#match-expressions"><code>match</code> expressions</a></li>
                  <li><a href="#lists">Lists</a></li>
                  <li><a href="#tuples">Tuples</a></li>
                  <li><a href="#records">Records</a></li>
                  <li><a href="#discriminated-unions">Discriminated unions</a></li>
                  <li><a href="#composite-types">Composite types recap</a></li>
                  <li><a href="#functions-part-1">Functions</a></li>
                  <li><a href="#function-types">Function types</a></li>
                  <li><a href="#rec">Recursion</a></li>
                  <li><a href="#unit-type">Unit</a></li>
              </ul>
      </ul>
   </div>

   <div id="tut-same" class="step txt">
       <h1>Things that are the same</h1>
       <ul>
           <li>Just as in C# or Java or other statically-typed languages, everything has a <em>type</em>.  Most of the basic types in F# are familiar to you already: <code>int</code>, <code>string</code>, <span title="You might know this as <code>double</code>"><code>float</code></span>, <code>char</code>, and <code>bool</code>.</li>
           <li>Just as in other languages, there are relational operators.  I've highlighted the syntax that is different in F#.
               <table>
                   <thead>
                       <tr>
                           <th>C#/Java syntax</th>
                           <th>F# syntax</th>
                       </tr>
                   </thead>
                   <tbody>
                       <tr>
                           <td>a &gt; b</td>
                           <td>a &gt; b</td>
                       </tr>
                       <tr>
                           <td>a &lt; b</td>
                           <td>a &lt; b</td>
                       </tr>
                       <tr>
                           <td>a &gt;= b</td>
                           <td>a &gt;= b</td>
                       </tr>
                       <tr>
                           <td>a &lt;= b</td>
                           <td>a &lt;= b</td>
                       </tr>
                       <tr class="highlight">
                           <td>a == b</td>
                           <td>a = b</td>
                       </tr>
                       <tr class="highlight">
                           <td>a != b</td>
                           <td>a &lt;&gt; b</td>
                       </tr>
                   </tbody>
               </table>
           </li>
           <li>The usual C-style mathematical operators (<code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, <code>%</code>) are all present, and have the meanings you would expect.</li>
           <li>The scoping rules for variables are mostly the same as the ones you're used to.</li>
           <li>The logical operators are mostly the same: <code>&&</code> and <code>||</code> are used for <q>and</q> and <q>or</q> respectively.  However, the <q>not</q> operator is a function called <code>not</code> rather than being an operator; the differences will become clear later.</li>
       </ul>
       <p>There are also things, mostly stemming from the <a href="#functional-style">functional style of programming</a>, which are <a href="#tut-different">different</a>.</p>
   </div>

   <div id="referential-transparency" class="step txt">
       <h1>Referential transparency</h1>
       <p><em>Referential transparency</em> means that a symbol is <em>exactly equivalent</em> to its value.  In other words, the value that a symbol was initialized with can be substituted for that symbol at any point, and the meaning of the program will not be changed.</p>
       <p>Referential transparency makes it easier to reason about your program, and it makes your program easier to optimise.  Consider the following C# code, which is not referentially transparent:</p>
       <pre><code>
               int[] myArray = new int[] { 1, 3, 5, 7, 9 };
               Mogrify(myArray);
               Console.WriteLine(myArray[2]);
       </code></pre>
       <p>Read through the code, and then answer this question: can you tell what will be printed to the console?  When you've thought about it, hover over the blurred text below to see the correct answer.</p>
       <hr />
       <div class="spoiler">
           <p>The correct answer is <q>No</q>.  If you thought that it would print out <code>5</code>, then you're incorrect.  The fact is that we can't know what it prints out: the <code>Mogrify</code> method could do anything with <code>myArray</code>, and our understanding of this piece of code is dependent upon our understanding of <code>Mogrify</code>.  In turn, our understanding of <code>Mogrify</code> is likely dependent on our understanding of other methods and objects (and their associated state), which is dependent upon our understanding of yet more methods and objects and <span title="&hellip;lions and tigers and bears&hellip;">&hellip;</span>!</p>
       </div>
       <p>By contrast, take a look at this roughly-equivalent F# code:</p>
       <pre><code>
               let myList = [1;3;5;7;9]
               let result = mogrify myList
               printfn "%d" myList.[2]
       </code></pre>
       <p>We know for a fact that <code>5</code> will be printed out.  It doesn't matter what <code>mogrify</code> does; it cannot possibly alter the value of <code>myList</code> because <code>myList</code> is immutable and, therefore, referentially transparent.  Our understanding of the code is not dependent upon understanding what <code>mogrify</code> does, and we can reason about the code in isolation, without needing to understand much more of the program.</p>
       <p>Furthermore, if we wanted to, we would be able to rewrite the F# as the following exactly-equivalent code:</p>
       <pre><code>
               let result = mogrify [1;3;5;7;9]
               printfn "%d" [1;3;5;7;9].[2]
       </code></pre>
       <p>We are guaranteed that this kind of transformation can have no possible impact upon the program's meaning.  A compiler can use this fact to optimise the program in ways that are more difficult to achieve in a non-functional language.</p>
   </div>

   <div id="tut-different" class="step txt">
       <h1>Differences</h1>
       <p>I've broken this down into minor differences and major differences.  The minor ones are easy to get used to; the major ones might require a bit of mental adjustment.</p>
       <h2>Minor differences</h2>
       <ul>
           <li>Indentation is significant.  Unlike in C# and Java, where <code>{</code> and <code>}</code> are used to show blocks and scoping, in F# (and <span title="Python, Ruby, CoffeeScript, Haskell, ...">other languages</span>) the level of indentation shows where a block begins and ends.</li>
           <li>All variables are <em>immutable</em>: the value of a variable <span title="Yes, I really do mean <q>never</q>!">can <strong>never</strong> be changed</span>.  In fact, all values are immutable: once created, they can never be changed.  I will often use the words <q>symbol</q> or <q>value</q> instead of <q>variable</q> to emphasise this difference.  The immutability of variables allows us to have <a href="#referential-transparency">referential transparency</a>.</li>
       </ul>
       <h2>Major differences</h2>
       <ul>
           <li>Instead of assignment, we use <em>binding</em>.  In fact, binding is used in place of <code>if</code>-statements, and we use binding when we use any sort of data structure in F#.</li>
           <li>Functions are <a href="#first-class-functions">first-class</a>.</li>
           <li>Instead of <span title="<code>while</code>, <code>for</code>, <code>foreach</code>, ...">explicit loops</span>, we use <span title="Recursion is the process of a function calling itself so that its code can be repeatedly executed.">recursion</span>.</li>
       </ul>
       <p>We'll discuss binding by looking at the most common type of binding: <a href="#binding"><code>let</code>-binding</a>.
   </div>

   <div id="first-class-functions" class="step txt">
       <h1>First-class functions</h1>
       <p><q>First-class</q> means that you can do anything with a function that you would be able to do with a value.  But what does that mean, in practical terms?  Here are some similarities between functions and values:</p>
       <ul>
           <li>You can give a value a name (we usually call this a <em>variable</em>), and you can give a function a name</li>
           <li>You can pass a value around as a parameter, and you can pass a function around as a parameter</li>
           <li>You can store a value in a list or other data structure, and you can store a function in a list or other data structure</li>
           <li>You can use a value as part of a <span title="A type made up of other types. For example, a <em>class</em> in C# is a composite type.">composite type</span>, and you can use a function as part of a composite type</li>
           <li>You can give more than one name to a value (this is called <em>aliasing</em>), and you can give more than one name to a function</li>
           <li>You can return a value from a function, and you can return a function from a function</li>
           <li>Every value has a type, and every function has a type</li>
           <li>You can create literal values (i.e. values not associated with any variable name), and you can create literal functions (these are called <em>lambda functions</em>)</li>
           <li>You can create a value at runtime based on user input, and you can create a function at runtime based on user input</li>           
       </ul>
       <p>...and much, much more!  If in doubt, ask yourself whether you would be able to do a particular thing with a value.  If the answer is <q>yes</q>, then you are probably able to do the same thing with a function.</p>
   </div>

   <div id="function-types" class="step txt">
       <h1>Function types</h1>
       <p>Let's recall the definition of a <a href="#functions-part-1">function</a>: a function is something that takes one input and produces one output.  We also know that all things in F# have a type associated with them.  This means that both the input and the output of a function will have a type.  We can therefore represent the type of a function in terms of its input and output!</p>
       <p>For example, let's take a look at the function</p>
       <pre><code>
               fun p -&gt; p > 15.9
       </code></pre>
       <p>Using <a href="#type-inference">type inference</a>, we can see that the input is a <code>float</code> and the output is a <code>bool</code>.  So, we can say that the type of the function is <code>float&nbsp;-&gt;&nbsp;bool</code>.</p>
   </div>

   <div id="type-annotations" class="step txt">
       <h1>Type annotations</h1>
       <p>A type annotation is used to explicitly tell the compiler what the type of a symbol is.  It is only used when the <a href="#type-inference">type inference</a> algorithm fails or returns the incorrect result.</p>
       <p>Type annotations do not <em>coerce</em> a type; in other words, they do not <em>cast</em> or <em>convert</em> a type into another type.  So, for example, you cannot use type annotations to turn an <code>int</code> into a <code>float</code>, or vice versa.  The only thing that type annotations do is specify what a type is, thus providing information for the type inference system to work with.</p>
       <p>To annotate a symbol, put <span title="(&nbsp;)">round brackets</span> around it, put a colon after it, and then write down the symbol's type.  So, to annotate the symbol <code>zippy</code> in</p>
       <pre><code>
	            fun zippy -> zippy + " is happy"
       </code></pre>
       <p>...you would write:</p>
       <pre><code>
	            fun (zippy:string) -> zippy + " is happy"
       </code></pre>
       <p>Note that the annotation occurs where the variable is defined, and not where it is used.</p>
   </div>

   <div id="generic" class="step txt">
       <h1>Generic types</h1>
       <p>A symbol which has a <em>generic</em> type is one which can legitimately be any type.  For example, let's consider a very simple function: <span title="This is called the <em>identity</em> function, FYI"><code style="white-space:nowrap">fun x -> x</code></p>
       <p>It takes an input, and gives you the same input back.  The type of the input doesn't matter: this function can work with any type.  If you give it a <code>string</code> as input, then the output type is <code>string</code>.  If you give it an <code>int</code> as input, then the output type is <code>int</code>.</p>
       <p>The word <q>generic</q> means <q>works with any type</q>.  It's very important to understand what <q>generic</q> <em>doesn't</em> mean, too.</p>
       <ul>
	        <li><q>generic</q> doesn't mean <q>has no type</q>.  The symbol <code>x</code> <em>does</em> have a type, and the type that it has is determined at runtime, based on the context of the call.</li>
	        <li><q>generic</q> doesn't mean <q>dynamic type</q>.  The type of <code>x</code> is not changeable once it is known!  If I pass in an <code>int</code>, I'm going to get an <code>int</code> back &mdash; not a <code>float</code>, or a <code>string</code>, or something else.  There's no <q>back door</q> that circumvents the static type system here.</li>
       </ul>
       <p>Conventionally, we indicate a generic type by using an apostrophe and a lowercase letter.  So instead of saying that <code>x</code> has type <code>string</code> or <code>float</code> &mdash; although those are types that it might take on at runtime &mdash; we say that <code>x</code> has type <code>'a</code>.  If there was a second generic type, we'd say that it had type <code>'b</code>, and so on.</p>
       <p>When two or more generic types are guaranteed to be the same, then we use the same lowercase letter for all of them.  For example, the function above is guaranteed to return the same type that it takes in, so its <a href="#function-types">function type</a> is <code>'a&nbsp;-&gt;&nbsp;'a</code></p>
   </div>

   <div id="type-inference" class="step txt">
       <h1>Type inference</h1>
       <p>In a language like C# or Java, you usually specify the <em>type</em> of a variable.  For example, you might say</p>
       <pre><code>
               string j = "Dvorak";
       </code></pre>
       <p>Now, look at that code again.  We're initializing <code>j</code> to have the value <code>"Dvorak"</code>.  We know that <code>"Dvorak"</code> is a <code>string</code>, so why do we have to explicitly tell the compiler that <code>j</code> is a <code>string</code>?  Why can't the compiler be smart enough to figure this out by itself, using the context of the rest of the program?</p>
       <p>That kind of <q>smartness</q> is called <em>type inference</em>.  Type inference is about <span title="<strong>infer</strong> (ɪnˈfəː) <em>verb</em>: to deduce or conclude (something) from evidence and reasoning rather than from explicit statements. [Google Dictionary]">inferring</span> the type of a symbol by looking at the evidence of the rest of the program and reasoning <q>backwards</q>.</p>
       <p>In this course, I'll be satisfied by a layman's intuitive grasp of practical type inference, though if you're interested in the gory details, I can strongly recommend reading about the <a href="http://en.wikipedia.org/wiki/Hindley%E2%80%93Milner_type_system" target="_new">Hindley&mdash;Milner-style type inference</a>.</p>
       <p>Type inference in F# usually works from top to bottom, left to right &mdash; though it occasionally goes a bit further than this.  When F# tries to figure out what the type of a symbol is, it first looks to see whether you've explicitly told it that a symbol has a particular type using a <a href="#type-annotations">type annotation</a>.  If you haven't explicitly told it anything about the symbol, then it looks at what the symbol interacts with; for example, if the symbol is used as the input of a function that takes a string, then the symbol must be a string &mdash; otherwise, it would be illegal to use the symbol when you're calling the function.  Lastly, if there aren't any constraints whatsoever on the type of the symbol, then the symbol is assumed to be <a href="#generic">generic</a>.  In fact, F# goes a step further than this, and can make symbols <em>as generic as possible</em>; we'll see an example of this later on.</p>
       <p>Let's work through some simple examples:</p>
       <ul>
           <li><a href="#ti-literal">Simple type inference</a></li>
           <li><a href="#ti-function">Slightly more complex type inference</a></li>
           <li><a href="#ti-annotation">Type inference with annotations</a></li>
       </ul>
       <p>If a symbol is ever <a href="#ti-inconsistent">used inconsistently</a>, then your F# program will fail to compile.</p>
       <p>Remember that the type inference works from <em>top to bottom</em>.  That means that you must define a symbol <em>above</em> the place where it is used.  Otherwise, the compiler will legitimately say that your symbol has not been defined.</p>
       <p>F#'s type inference is reasonably advanced, though not foolproof.  If it fails, for whatever reason, then you should use your understanding of the type inference process to figure out why it has failed and take corrective action.  This is often as simple as correcting an error in your reasoning, reorganising your code, or adding in a type annotation.</p>
   </div>

   <div id="ti-inconsistent" class="step txt">
       <p>Given the code</p>
       <pre><code>
               (fun m -&gt; m * 2) "kitty"
       </code></pre>
       <p>...type inference would go something like this:</p>
       <ol>
           <li>There's a function.  What is the <a href="#function-types">type of the function</a>?  I'll need to find input and output types.</li>
           <li>There's a <code>m</code> symbol.  What could it be?</li>
           <li>In the body of the function, <code>m</code> is multiplied by <code>2</code>.  This only makes sense if <code>m</code> is an <code>int</code>, so <code>m</code> must be an <code>int</code></li>
           <li>I can see that there is a <code>string</code> (i.e. <code>"kitty"</code>) supplied as the input for the function</li>
           <li>If <code>m</code> wasn't a <code>string</code>, then calling the function with this input would be illegal.  So, for this to be legal, <code>m</code> must be a <code>string</code></li>
           <li>According to (3), <code>m</code> is an <code>int</code>.  But according to (5), <code>m</code> must be a <code>string</code>.  This is inconsistent.</li>
       </ol>
       <p>At this point, the type inference algorithm will fail, and you'll see the error message <samp>The type 'int' does not match the type 'string'</samp>.</p>
   </div>

   <div id="ti-literal" class="step txt">
       <p>Given the code</p>
       <pre><code>
               fun k -&gt; k / 4.0
       </code></pre>
       <p>...type inference would go something like this:</p>
       <ol>
           <li>There's a function.  What is the <a href="#function-types">type of the function</a>?  I'll need to find input and output types.</li>
           <li>There's a <code>k</code> symbol.  What could it be?</li>
           <li><code>k</code> is divided by <code>4.0</code>.  I know that <code>4.0</code> is a <code>float</code></li>
           <li>The only way that this code can make sense is if <code>k</code> was also a <code>float</code></li>
           <li>Therefore, <code>k</code> is a <code>float</code></li>
           <li>The input is a <code>float</code> and the output is a <code>float</code>.  So the function must have the type <code>float&nbsp;-&gt;&nbsp;float</code></li>
       </ol>
   </div>

   <div id="ti-function" class="step txt">
       <p>Given the code</p>
       <pre><code>
               (fun m -&gt; m+m) "kitty"
       </code></pre>
       <p>...type inference would go something like this:</p>
       <ol>
           <li>There's a function.  What is the <a href="#function-types">type of the function</a>?  I'll need to find input and output types.</li>
           <li>There's a <code>m</code> symbol.  What could it be?</li>
           <li>In the body of the function, <code>m</code> is added to itself.  Hm.  I know that I can use the <code>+</code> operator between <code>int</code>s or <code>float</code>s or <code>string</code>s or a few other types.  If I don't have any other evidence, I'll decide that <code>m</code> is an <code>int</code>.</li>
           <li>I can see that there is a <code>string</code> (i.e. <code>"kitty"</code>) supplied as the input for the function</li>
           <li>If <code>m</code> wasn't a <code>string</code>, then calling the function with this input would be illegal.  So, for this to be legal, <code>m</code> must be a <code>string</code></li>
           <li>So inside the function, <code>m+m</code> must mean string concatenation, since I know that <code>m</code> is a <code>string</code></li>
           <li>Therefore, the output of the function is a <code>string</code></li>
           <li>The input is a <code>string</code> and the output is a <code>string</code>.  So the function must have the type <code>string&nbsp;-&gt;&nbsp;string</code></li>
       </ol>
   </div>

   <div id="ti-annotation" class="step txt">
       <p>Given the code</p>
       <pre><code>
               fun (m:float) -&gt; m+m
       </code></pre>
       <p>...type inference would go something like this:</p>
       <ol>
           <li>There's a function.  What is the <a href="#function-types">type of the function</a>?  I'll need to find input and output types.</li>
           <li>There's a <code>m</code> symbol.  The annotation says that it is a <code>float</code>.  Therefore, it is a <code>float</code>.</li>
           <li>In the body of the function, <code>m</code> is added to itself.  This is legal when <code>m</code> is a <code>float</code>, and the result will be a <code>float</code></li>
           <li>Therefore, the output of the function is a <code>float</code></li>
           <li>The input is a <code>float</code> and the output is a <code>float</code>.  So the function must have the type <code>float&nbsp;-&gt;&nbsp;float</code></li>
       </ol>
   </div>

   <div id="functional-style" class="step txt">
      <img style="height:4em;float:left" src="https://openclipart.org/people/jeeeyul/gangnam-style.svg" />
      <h1>Functional style</h1>
      <p>A functional style of programming is characterised by</p>
      <ul>
         <li><em>Immutability</em>: values, once created, can never be modified.  In other words, data is not <em>mutable</em>.</li>
         <li><em>First-class functions</em>: you can call and define functions as usual, and you can also <a href="#first-class-functions">do anything with a function that you would be able to do with a value</a>.</li>
         <li><em>Purity</em>: a pure function has no side-effects and does not depend on anything except its input.
            <ul>
               <li>A <em>side-effect</em> is anything that a function does <em>above and beyond</em> returning a value.  For example, writing to a database, printing something to the screen, or altering an object's state are all side-effects.</li>
               <li>An external dependency might involve reading the system clock, using a random number generator, or reading data from the network.</li>
            </ul>
         </li>
         <li><em>Expressions</em>: the vast majority of code in a functional program is written as expressions, not statements.  The difference between an expression and a statement is that an expression generates a value, and a statement does not.  For example, in C#, <code>2+7</code> is an expression and <code>while (false) { }</code> is a statement.  We can <span title="<code>int x = 2+7;</code> is legal">assign the former to a variable</span> because it generates a value, but we <span title="<code>void x = while (false) { }</code> is illegal">cannot do this for the latter</span> because there is no value generated that could be assigned to a variable.</li>
      </ul>
      <p>These characteristics lead to a style of programming that is more expressive, more flexible, and arguably more readable, maintainable, and powerful than a <q>mainstream</q> object-oriented style.  The notes after this basic set of notes will go through some functional-programming idioms, and you can make your own mind up about how useful the style is.</p>
   </div>

   <div id="functions-part-1" class="step txt">
       <h1>Functions, Part I</h1>
       <p>A function is something that takes <em>one</em> input and produces <em>one</em> output.  Another way of phrasing the same thing is: a function is something which, when given an input, will produce an output.</p>
       <p>We'll talk about F# functions later on.  For now, let's consider an abstract function which, when given an integer <code>n</code>, will give back <code>n+5</code>.  In C#, you might have written</p>
       <pre><code>
               int AddFive(int n) {
                   return n + 5;
               }
       </code></pre>
       <p>So, if I give <code>8</code> as an input, I'll get back <code>13</code> as the output.  We can write down the essentials of this abstract function as:</p>
       <pre><code>
               n -&gt; n + 5
       </code></pre>
       <p>On the left side of the <code>-&gt;</code>, we have the <em>input</em>.  On the right side, we have the <em>output</em>.</p>
       <p>Now, a function is nice, but it does me no good to just have a function sitting around and doing nothing.  I'd like to <em>apply</em> it (in Computer Science, we'd say that I want to <em>call</em> the function), and to do that I must give it an input.  To give this function an input, I'll enclose the function in parentheses, and give it the input just after the parentheses, separated by a space.  That will make it easy for me to see where the function ends and where the input begins.</p>
       <pre><code>
               (n -&gt; n + 5) 8
       </code></pre>
       <p>Remember: when a function is given an input, it provides its output.  So the above expression is semantically equivalent to this:</p>
       <pre><code>
               13
       </code></pre>
       <p>Note that, because a function always produces an output, all functions are <a href="#functional-style">expressions</a>.</p>
       <p>Make sure that you see how this works &mdash; and, especially, make sure that you understand the definition of a <em>function</em>.  Also pay attention to the notation I've been using for an abstract function.  You'll see me using the same notation later on.</p>
       <p>When you're ready to move on, let's take a look at what <a href="#functions-part-2">a real function looks like in F#</a>.</p>
   </div>

   <div id="functions-part-2" class="step txt">
       <h1>Functions, Part II</h1>
       <p>In F#, here's how you would write down the abstract <code style="white-space:nowrap">n -&gt; n + 5</code> function:</p>
       <pre><code>
               fun n -&gt; n + 5
       </code></pre>
       <p>The <code>n</code> in that code isn't a variable; it's a <a href="#variable-pattern">variable pattern</a>.  In fact, the input to a function is in the form of a <em>pattern</em>.  And here's how you would <em>apply</em> (<span title="I'll use both terms interchangeably">or <em>call</em></span>) a function:</p>
       <pre><code>
               (fun n -&gt; n + 5) 8
       </code></pre>
       <p>...giving you the result</p>
       <pre><code>
               13
       </code></pre>
       <p>You'll note that this syntax is almost exactly the same as the abstract notation that <a href="#functions-part-1">you saw before</a>.  There's no need for an explicit <q>return</q> statement: the output of a function is the last value that the function generates.</p>
       <p>In a functional language, functions are <a href="#first-class-functions">first-class</a>.  Be sure that you understand what this means!  Here's a recap of the important points:</p>
       <ul>
           <li>A function always takes <em>exactly one</em> input and produces <em>exactly one</em> output</li>
           <li>The input of a function is in the form of a <em>pattern</em></li>
           <li>The input is on the left of the <code>-&gt;</code> and the output is on the right of the <code>-&gt;</code></li>
           <li>A function is an <a href="#functional-style">expression</a></li>
           <li>The argument passed to a function is separated from the function by a space</li>
           <li>When you give a function its input (i.e., when you <em>call</em> the function), the result is its output</li>
           <li>You can do anything with a function that you can do with a value.</li>
           <li>A function has a <a href="#function-types">type</a>.</li>
       </ul>
       <p>Now, you may have seen <a href="#first-class-functions">here</a> that a function can return a function.  Such a function looks like</p>
       <pre><code>
               fun t -&gt; fun c -&gt; t + c
       </code></pre>
       <p>Let's go analyse this code.  We know that the input is on the left of the <code>-&gt;</code> and the output is on the right.  So the input to the function is <code>t</code>, and when the input is received, the output is <code style="white-space:nowrap">fun c -&gt; t + c</code>.  We analyse this code next.  The input is <code>c</code>, and when the input is received, the output is <code>t + c</code>.</p>
       <p>The practical effect of this is to give us a way to <em>simulate</em> a function which takes multiple inputs.  Watch what happens when we try this:</p>
       <pre><code>
               (fun t -&gt; fun c -&gt; t + c) 3 4
       </code></pre>
       <ol>
           <li>The function is called with the argument <code>3</code>.</li>
           <li>The data <code>3</code> is matched successfully with the <a href="#variable-pattern">variable pattern</a> <code>t</code>, which takes on the value <code>3</code>.</li>
           <li>The output is the function <code>fun c -&gt; t + c</code>.</li>
           <li>The function <code>fun c -&gt; t + c</code> is called with the argument <code>4</code>.</li>
           <li>The data <code>4</code> is matched successfully with the <a href="#variable-pattern">variable pattern</a> <code>c</code>, which takes on the value <code>4</code>.</li>
           <li>The output is obtained by evaluating <code>t + c</code>.  The value of <code>t</code> has been established as <code>3</code>, and the value of <code>c</code> has been established as <code>4</code>.  So, the output is <code>7</code>.</li>
       </ol>
       <p>Of course, we can do this for as many parameters as we'd like!  That means that we can simulate functions which take any number of arguments.</p>
       <p>But why not just have functions with multiple inputs?  Well, take a look at step (3) above.  Here's something that we can do with one-input, one-output functions that we can't do with multiple-input functions:</p>
       <pre><code>
               let f = fun t -&gt; fun c -&gt; t + c
               let g = f 35
               // ... some more code here ...
               g 12 // result will be 47
       </code></pre>
       <p>In the above code, we apply the function bound to <code>f</code> and bind the resulting function to <code>g</code>.  Later on &mdash; perhaps much later, or perhaps in another function entirely &mdash; we can call this function, and get the result.  The ability to create functions that take their inputs from different parts of the program before finally being applied is extraordinarily powerful, and leads to very flexible and interesting ways to express programs.</p>
       <p>On the other hand, the syntax is <span title="Not a technical term, but I sometimes wish it was!"><em>fugly</em></span>.  Fortunately, F# provides a bit of <a href="#function-sugar">sugar</a> to remove the bitter taste of this.</p>
   </div>

   <div id="function-sugar" class="step txt">
       <h1>Function sugar</h1>
       <p>F# provides <em>syntactic sugar</em> that lets you write one-input, one-output functions <em>as if</em> they took multiple inputs.  They don't, of course; it merely appears that they do.  Here's how it works: instead of writing</p>
       <pre><code>
               fun a -&gt; fun b -&gt; a - b
       </code></pre>
       <p>&hellip; you can write</p>
       <pre><code>
               fun a b -&gt; a - b
       </code></pre>
       <p>These two are <em>exactly equivalent</em>: there is no semantic difference whatsoever between them.  The second form looks better, and it is the form that you will be using throughout this course.  Make sure that you don't forget what the <q>sugared</q> form actually is, though.</p>
       <h2>Moar sugar</h2>
       <p>Going a step further, you will often find yourself assigning a name to a function, e.g.</p>
       <pre><code>
               let bleh = fun a b -&gt; a - b
       </code></pre>
       <p>The language provides a <q>sugared</q> form to make this easier, too.  Instead of the above, you can write</p>
       <pre><code>
               let bleh a b -&gt; a - b
       </code></pre>
       <p>These two forms, once again, are equivalent.  You'll be using (and seeing) the prettier syntax from now on.</p>
       <h2>Precedence</h2>
       <p>Function application has <a href="https://msdn.microsoft.com/en-us/library/dd233228.aspx" target="_new">higher precedence than almost any other operator or expression</a>.  This is similar to the precedence of operators in <a href="https://msdn.microsoft.com/en-us/library/aa691323%28v=vs.71%29.aspx" target="_new">C#</a>, for example.  However, since function application in F# is done without parentheses, the way an expression looks may be deceptive until you get used to it.</p>
       <p>In C#, for example, the precedence of a statement such as</p>
       <pre><code>
               int k = i + f(j,p);
       </code></pre>
       <p>&hellip; is obvious to most programmers: the <code>i</code> is evaluated, then <code>f(j,p)</code> is evaluated, and then the addition is done.  In F# the precedence is the same, but the syntax doesn't make it as obvious:</p>
       <pre><code>
               let k = i + f j p
       </code></pre>
       <p>Again, the <code>i</code> and <code>f j p</code> expressions are evaluated before the addition is done.  As you get used to the lack of parentheses, the precedence will start to feel natural again.  Reading F# code will help with this.</p>
       <hr />
       <p>We've discussed almost all of the functional fundamentals that this part of the module will introduce you to.  However, the astute reader will notice that we haven't discussed one of the very basic things that we tend to do with computers: <em>looping</em>.  Now that we know about functions, we can do that.  Next up: <a href="#rec">the <code>rec</code> keyword</a>.</p>
   </div>

   <div id="rec" class="step txt">
       <h1>The <code>rec</code> keyword</h1>
       <p>The <code>rec</code> keyword is used to make a name available for use <em>within the scope of that name</em>.  Consider the following code:</p>
       <pre><code>
               let f b = f b
       </code></pre>
       <p>F# won't allow this because inside the body of <code>f</code>, the symbol <code>f</code> is undefined.  The <code>f</code> symbol can only be seen by code after the <code>let</code> statement which is at the same nesting level.</p>
       <p>However, adding the <code>rec</code> keyword directly after the <code>let</code> keyword allows the <code>f</code> symbol to be seen within the code which defines the <code>f</code> symbol:</p>
       <pre><code>
               let rec f b = f b
       </code></pre>
       <p>This compiles and works: when you call <code>f</code> with any input, it will call itself infinitely and the program will not terminate.  In other words, we will <em>loop</em> through the body of <code>f</code> forever &mdash; an infinite loop!  We achieve this looping by having functions call themselves (i.e., via <em><strong>rec</strong>ursion</em>).</p>
       <p>Infinite loops aren't particularly useful, though.  Here's a slightly more useful example that adds up numbers in a list:</p>
       <pre><code>
               let f x =
                  match x with
                  | [] -&gt; 0
                  | num::rest -&gt; num + f rest
       </code></pre>
       <p>Study how this code works until you can see that it really does work.  It takes a little bit of time to get used to thinking recursively, but you'll have to make the attempt: although F# does support explicit looping constructs such as <code>for</code>, <code>while</code>, etc, we won't be using those.  The functional way is to use recursion to achieve iteration.  Reading F# code and some practice should help a lot with this.</p>
       <p>The last basic language construct that I'd like to introduce you to is an additional primitive type that F# has: the <a href="#unit-type"><code>unit</code></a> type.</p>
   </div>
   
    <div id="variable-pattern" class="step txt">
        <h1>Variable patterns</h1>
        <p>A <em>variable</em> pattern is a variable name.  Valid variable names in F# are almost the same as valid variable names in most other <q>mainstream</q> languages such as C, C#, Java, Python, etc, with one difference: they should not start with a capital letter.  In addition, F# allows variable names to be almost any sequence of characters, including spaces (but excluding quotation marks), as long as the variable name is delimited with <span title="These are backticks.  Usually at the top-left of a keyboard, above the Tab key."><code>``</code></span> marks.  The following are all valid variable patterns:</p>
        <ul>
            <li><code>x</code></li>
            <li><code>abc</code></li>
            <li><code>number221B_bakerStreet</code></li>
            <li><code>``A Rose by any other name would not star in the movie "Titanic"``</code></li>
        </ul>
        <p>A variable pattern matches any data, and can later be used to refer to the data that was matched.</p>
    </div>

    <div id="record-pattern" class="step txt">
        <h1>Record patterns</h1>
        <p>A <em>record</em> pattern is composed of other patterns (such as <a href="#variable-pattern">variable</a>, <a href="#constant-pattern">constant</a>, <a href="#tuple-pattern">tuple</a>, <a href="#list-pattern">list</a>, or <a href="#wildcard-pattern">wildcard</a> patterns) linked to field names.  For the pattern-match to succeed, the patterns for all the named fields must match.  Only the fields relevant to the pattern-matching need to be named; any unnamed fields do not participate in pattern-matching.</p>
        <p>For example, consider the record</p>
        <pre><code>
        type Date = { Year : int; Month : int; Day : int }
        </code></pre>
        <p>&hellip; which is used in the following code:</p>
        <pre><code>
        match { Year=2025; Month=4; Day=1 } with
        | { Year=500000000 } -&gt; "Life on Earth destroyed"
        | { Month=12; Day=31 } -&gt; "Last day of the year"
        | { Day=29; Month=2 } -&gt; "Leap-day in a leap-year ^_^"
        | { Month=12 } -&gt; "End-of-year"
        | { Day=1; Month=m } -&gt;
           match m with
           | 4 -&gt; "April Fools day"
           | 1 -&gt; "A new year!"
           | _ -&gt; "Start of the month!"
        | _ -&gt; "Some unimportant day"
        </code></pre>
        <ol>
            <li>The data that is being matched is a <code>Date</code> record with the fields and values <code>Year=2025</code>, <code>Month=4</code>, and <code>Day=1</code>.</li>
            <li>The record pattern <code>{ Year=500000000 }</code> consists of a <a href="#constant-pattern">constant pattern</a> which will be matched against the value of the <code>Year</code> field.  The constant pattern does not match.</li>
            <li>The record pattern <code>{ Month=12; Day=31 }</code> consists of two <a href="#constant-pattern">constant patterns</a> which will be matched against the values of the <code>Month</code> and <code>Day</code> fields respectively.  Neither pattern matches.</li>
            <li>The record pattern <code>{ Day=29; Month=2 }</code> consists of two <a href="#constant-pattern">constant patterns</a> which will be matched against the values of the <code>Day</code> and <code>Month</code> fields respectively.  Neither pattern matches.</li>
            <li>The record pattern <code>{ Month=12 }</code> consists of a <a href="#constant-pattern">constant pattern</a> which will be matched against the value of the <code>Month</code> field.  The constant pattern does not match.</li>
            <li>The record pattern <code>{ Day=1; Month=m }</code> consists of a <a href="#constant-pattern">constant pattern</a> matched against the value of the <code>Day</code> field, and a <a href="#variable-pattern">variable pattern</a> matched against the value of the <code>Month</code> field.  The constant pattern succeeds.  The variable pattern succeeds, and the symbol <code>m</code> is bound to the value <code>4</code>.  All patterns match, so the record pattern matches, and the associated code is executed.</li>
            <li>The data used in the <code>match</code> expression is <code>4</code> (see <a href="#referential-transparency">referential transparency</a>).</li>
            <li>The <a href="#constant-pattern">constant pattern</a> <code>4</code> matches, and the associated code is executed.</li>
            <li>The result of the <code>match</code> expression is <code>"April Fools day"</code>.  This becomes the result of the enclosing <code>match</code> expression as well.</li>
        </ol>
    </div>

    <div id="wildcard-pattern" class="step txt">
        <h1>The wildcard pattern</h1>
        <p>The <em>wildcard</em> pattern is <code>_</code> (i.e., an underscore).  The wildcard pattern matches any data and ignores it.  It is often used to match against parts of the data that aren't relevant to the computation that will be done.</p>
    </div>

    <div id="constant-pattern" class="step txt">
        <h1>Constant patterns</h1>
        <p>A <em>constant</em> pattern is a literal data value.  For example, <code>5</code> is a constant pattern.  Other examples of constant patterns:</p>
        <ul>
            <li><code>"Fullmetal Alchemist"</code></li>
            <li><code>37.1</code></li>
            <li><code>'z'</code></li>
            <li><code>2602</code></li>
        </ul>
        <p>A constant pattern only matches data that is exactly equivalent to it.</p>
    </div>

    <div id="tuple-pattern" class="step txt">
        <h1>Tuple patterns</h1>
        <p>A <em>tuple</em> pattern is composed of other patterns (such as <a href="#variable-pattern">variable</a>, <a href="#constant-pattern">constant</a>, or <a href="#wildcard-pattern">wildcard</a> patterns) separated by commas.  The number of commas in the tuple pattern <strong>must</strong> match the number of commas in the tuple.  To put it another way, the tuple pattern must contain a pattern for each of the elements in the tuple.  If <em>all</em> of the constituent patterns match the input, then the tuple pattern matches the input.</p>
        <p>For example, consider the <a href="#match-expressions"><code>match</code> expression</a></p>
        <pre><code>
                match "AAPL", false with
                | stock, true -&gt; "Bought " + stock
                | "SMBC", _ -&gt; "Not allowed"
                | stock, false -&gt; "Sold " + stock
        </code></pre>
        <ol>
            <li>The data that is being matched is the <code>string&nbsp;*&nbsp;bool</code> tuple <code>"AAPL", false</code></li>
            <li>The pattern <code>stock, true</code> consists of a <a href="#variable-pattern">variable pattern</a> and a <a href="#constant-pattern">constant pattern</a>.  The variable pattern matches, and <code>stock</code> is bound to <code>"AAPL"</code>.  The constant pattern does not match.  Because <em>all</em> of the tuple pattern doesn't match, the match fails.</li>
            <li>The pattern <code>"SMBC", _</code> consists of a <a href="#constant-pattern">constant pattern</a> and a <a href="#wildcard-pattern">wildcard pattern</a>.  The constant pattern does not match.  The wildcard pattern matches.  Because <em>all</em> of the tuple pattern doesn't match, the match fails.</li>
            <li>The pattern <code>stock, false</code> consists of a <a href="#variable-pattern">variable pattern</a> and a <a href="#constant-pattern">constant pattern</a>.  The variable pattern matches, and <code>stock</code> is bound to <code>"AAPL"</code>.  The constant pattern matches.  Because all of the patterns in the tuple pattern match, the match succeeds and the associated code is executed.</li>
        </ol>
    </div>

    <div id="list-pattern" class="step txt">
        <h1>List patterns</h1>
        <p>List patterns are composed of other patterns (such as <a href="#variable-pattern">variable</a>, <a href="#constant-pattern">constant</a>, or <a href="#wildcard-pattern">wildcard</a> patterns) and take one of two forms: as a <em>cons</em> pattern or as a <em>list</em> pattern.</p>
        <h2>Cons pattern</h2>
        <p>A <em>cons</em> pattern matches the list as a series of elements at the start of the list, and the rest of the list.  The element at the start of the list is called the <em>head</em>, and the rest of the list is called the <em>tail</em>.  The syntax of the pattern is</p>
        <pre><code>
                <u>head<sub>0</sub></u>::<u>head<sub>1</sub></u>::<span class="midellipsis">&hellip;</span>::<u>head<sub><em>n</em></sub></u>::<u>tail</u>
        </code></pre>
        <p>The head is matched by the <code><u>head</u></code> pattern, and the tail is matched by the <code><u>tail</u></code> pattern.  The <em>cons</em> pattern is extensible since one can specify many of the starting elements to be captured.  Note that a <code><u>head</u></code> pattern matches an individual element, whereas the <code><u>tail</u></code> is a list of items.  You can see an <a href="#consp-example">example</a>, if you'd like.</p>
        <p>The cons pattern is often used to split off one or more elements from the head of the list, leaving the tail of the list to be processed.  We will use it to go through elements in a list one-at-a-time, until all that remains is an empty list.</p>
        <h2>List pattern</h2>
        <p>A <em>list</em> pattern matches the list as an exact set of elements.  The syntax of the pattern is</p>
        <pre><code>
                [<u>pattern<sub>0</sub></u>; <u>pattern<sub>1</sub></u>; <span class="midellipsis">&hellip;</span>; <u>pattern<sub>n</sub></u>]
        </code></pre>
        <p>Each element is matched by its own pattern, and the length of the list must exactly match the number of <code><u>pattern</u></code>s.  You can see an <a href="#listp-example">example</a> of this, if you'd like.</p>
        <p>The list pattern is less-frequently used than the cons pattern.  However, one list pattern that you will often see is <code>[]</code>, which matches only when the list has no elements.</p>
    </div>

    <div id="case-pattern" class="step txt">
        <h1>Case patterns</h1>
        <p>A <em>case pattern</em> is the name of the case, followed by a pattern to match the associated data (if any).</p>
        <p>For example, consider the type</p>
        <pre><code>
    type EquipmentStatus =
    | Available
    | CheckedOut of string
    | Broken
    | BeingRepaired of System.DateTime * string
        </code></pre>
        <p>&hellip; which is used in the following code:</p>
        <pre><code>
    match CheckedOut "S. Brust" with
    | Available -&gt; "Available, come and get it!"
    | Broken -&gt; "Broken, sorry :-("
    | CheckedOut "Batman" -&gt; "Checked out. Probably broken by now."
    | CheckedOut name -&gt; "Checked out by " + name
    | Broken (_, fixer) -&gt; "Broken, being fixed by " + fixer
        </code></pre>
        <ol>
            <li>The data that is being matched is a <code>EquipmentStatus</code> discriminated union case, <code>CheckedOut</code>.</li>
            <li>The pattern <code>Available</code> does not match.</li>
            <li>The pattern <code>Broken</code> does not match.</li>
            <li>The pattern <code>CheckedOut</code> matches, but the <a href="#constant-pattern">constant pattern</a> <code>"Batman"</code> does not match.</li>
            <li>The pattern <code>CheckedOut</code> matches, and the <a href="#variable-pattern">variable pattern</a> <code>name</code> matches and is bound to the value <code>"S.Brust"</code>.  The entire pattern matches, so the associated code is executed.</li>
            <li>After evaluating the associated code, the result of the <code>match</code> expression is <code>"Checked out by S.Brust"</code>.</li>
        </ol>
    </div>

    <div id="consp-example" class="step txt">
        <h1>Cons pattern example</h1>
        <p>Given the code</p>
        <pre><code>
                match [2;4;8;16] with
                | h::i::t -&gt;
                   let rest =
                      match t with
                      | j::k::_ -&gt; j = 2*i && k = 2*j
                      | j::_ -&gt; j = 2*i
                      | _ -&gt; true
                   i = 2*h && rest
                | _ -&gt; true
        </code></pre>
        <p>This code tests to check whether the start of the list <span title="It's assumed that a single-element list and a zero-element list are doubling sequences consisting of one and zero elements respectively.">is a doubling sequence</span>.</p>
        <ol>
            <li>The data that we will match against is the list <code>[2;4;8;16]</code>.</li>
            <li>The pattern <code>h::i::t</code> consists of 3 <a href="#variable-pattern">variable patterns</a>.  <code>h</code> matches and is bound to <code>2</code>, <code>i</code> matches and is bound to 4, and <code>t</code> matches and is bound to <code>[8;16]</code>.  All matches succeeded, so the cons pattern succeeds and we start to execute the associated code.</li>
            <li>The symbol <code>rest</code> obtains its value from a <a href="#match-expressions"><code>match</code> expression</a>.</li>
            <li>The data used in the <code>match</code> expression is <code>[8;16]</code> (remember that symbols are <a href="#referential-transparency">referentially transparent</a>).</li>
            <li>The pattern <code>j::k::_</code> consists of 2 <a href="#variable-pattern">variable patterns</a> and 1 <a href="#wildcard-pattern">wildcard pattern</a>.  <code>j</code> matches and is bound to <code>8</code>, <code>k</code> matches and is bound to <code>16</code>, and <code>_</code> <span title="If it was a variable pattern, it would be bound to <code>[]</code>">matches</span>.  All matches succeeded, so the cons pattern succeeds and we start to execute the associated code.</li>
            <li>The expression <code>j = 2*i && k = 2*j</code> is executed, and the result of the <code>match</code> expression is therefore <code>true</code>.</li>
            <li>The symbol <code>rest</code> is bound to the value <code>true</code></li>
            <li>The expression <code>i = 2*h && rest</code> is executed, with the result being <code>true</code>.</li>
            <li>Therefore, the result of the overall <code>match</code> expression is <code>true</code></li>
        </ol>
    </div>

    <div id="listp-example" class="step txt">
        <h1>List pattern example</h1>
        <p>Given the code</p>
        <pre><code>
                match [4;3] with
                | [] -&gt; "Canceled roll"
                | [1;1] -&gt; "Uncommon: minimum roll"
                | [6;6] -&gt; "Uncommon: maximum roll"
                | [a;b] -&gt;
                   match a + b with
                   | 7 -&gt; "Most common roll"
                   | 6 -&gt; "Common less-than-average roll"
                   | 8 -&gt; "Common more-than-average roll"
                   | _ -&gt; "Some other roll"
                | _ -&gt; "More or less than 2 dice were rolled"
        </code></pre>
        <p>This code gives some indication of how common the result is if two 6-sided dice are rolled.</p>
        <ol>
            <li>The data that we will match against is the list <code>[4;3]</code>.  Each element in the list represents a dice roll.</li>
            <li>The pattern <code>[]</code> is a list pattern containing 0 elements.  Since the data contains 2 elements, this pattern match does not succeed.</li>
            <li>The pattern <code>[1;1]</code> is a list pattern containing 2 <a href="#constant-pattern">constant patterns</a>.  Neither the first nor the second constant pattern succeeds.</li>
            <li>The pattern <code>[6;6]</code> is a list pattern containing 2 <a href="#constant-pattern">constant patterns</a>.  Neither the first nor the second constant pattern succeeds.</li>
            <li>The pattern <code>[a;b]</code> is a list pattern containing 2 <a href="#variable-pattern">variable patterns</a>.  <code>a</code> matches and is bound to <code>4</code>, and <code>b</code> matches and is bound to <code>3</code>.  All pattern matches succeeded, so the list pattern succeeds and we start executing the associated code.</li>
            <li>The expression <code>a + b</code> is evaluated, and the result is <code>7</code> (see <a href="#referential-transparency">referential transparency</a>).  The data that we will match against is <code>7</code>.</li>
            <li>The pattern <code>7</code> is a <a href="#constant-pattern">constant pattern</a>.  The pattern matches, and we start executing the associated code.</li>
            <li>The result of the <code>match</code> expression is <code>"Most common roll"</code>, and this becomes the result of the larger <code>match</code> expression as well.</li>
        </ol>
    </div>

    <div id="binding" class="step txt">
        <h1>Binding</h1>
        <p>Binding is the process of associating zero or more symbols with some data.  The simplest kind of binding is a <code>let</code>-binding such as</p>
        <pre><code>
                let abc = 95
        </code></pre>
        <p>Though it resembles assignment, there are two very important differences between binding and assignment:</p>
        <ol>
            <li>Bindings use <em>patterns</em></li>
            <li>Bindings can <em>fail</em></li>
        </ol>
        <p>The form of a <code>let</code> binding is:</p>
        <pre><code>
                let <u>pattern</u> = <u>value</u>
        </code></pre>
        <p>In the above code, the symbol <code>abc</code> is a simple <a href="#variable-pattern">variable pattern</a> that <span title="This happens at compile-time, not runtime">F# attempts to <em>match</em> with the provided value</span>.  Essentially, F# asks the question: what possible type and value should <code>abc</code> have in order to make the two sides equivalent?  In this case, the only possible type is <code>int</code>, and the only possible value is <code>95</code>.  Therefore, the symbol <code>abc</code> is given the value <code>95</code>.</p>
        <p>Unlike assignment, this way of interpreting things means that the following code is perfectly legal and compilable:</p>
        <pre><code>
                let 31337 = 31337
        </code></pre>
        <p>Here we match the value <code>31337</code> against the <a href="#constant-pattern">constant pattern</a> <code>31337</code>.  The two sides match, and the program proceeds.  But if we were to write</p>
        <pre><code>
                let "batman" = "joker"
        </code></pre>
        <p>...then the value <code>"joker"</code> would be matched against the constant pattern <code>"batman"</code>.  The program <span title="Though you would get a warning: the F# compiler is smart enough to catch simple mistakes.">would compile</span> &mdash; the code is perfectly legal!  However, at runtime, executing this would result in a <samp>MatchFailureException</samp>, which is what F# uses to indicate that a matching binding couldn't be found.</p>
        <p>Binding is used for much more than assignment &mdash; you will see binding at work in many different parts of the language.  Let's look at the <a href="#match-expressions"><code>match</code> expression</a>, which relies upon both patterns and failure.</p>
    </div>

    <div id="match-example" class="step txt">
        <p>Consider the following syntactically-valid, but nonsensical, <code>match</code> expression:</p>
        <pre><code>
          match "salt" with
          | "sugar" -&gt; 1.5
          | veritas -&gt;
             match veritas + " water" with
             | sweet -&gt; 21.3
             | "salt water" -&gt; 0.5
        </code></pre>
        <p>Notice how the indentation rules work: if the code is a single line, then it can be included on the same line as the <code>-&gt;</code>; but if it is more than one line, then it must start on the next line and the entire block must be indented.</p>
        <ol>
            <li>The value <code>"salt"</code> is matched against the <a href="#constant-pattern">constant pattern</a> <code>"sugar"</code>.  It doesn't match, so we move on to testing against the next case.</li>
            <li>The value <code>"salt"</code> is matched against the <a href="#variable-pattern">variable pattern</a> <code>veritas</code>.  The pattern matches, and the value <code>"salt"</code> is <em>bound</em> to the symbol <code>veritas</code>; then the related code is executed.</li>
            <li>The expression <code>veritas + " water"</code> is evaluated.  The result, <code>"salt water"</code>, is the data that we will be matching our patterns against.</li>
            <li>The value <code>"salt water"</code> is matched against the <a href="#variable-pattern">variable pattern</a> <code>sweet</code>.  The pattern matches, and the value <code>"salt water"</code> is <em>bound</em> to the symbol <code>sweet</code>; then the related code is executed.</li>
            <li>The related code is the value <code>21.3</code>.  This is the value which is returned by the <code>match</code> expression.</li>
        </ol>
        <p>Notice, as well, that the <a href="#constant-pattern">constant pattern</a> <code>"salt water"</code> would have matched, but it is never checked.  This is because patterns are checked from top-to-bottom, and the previous pattern (<code>sweet</code>) matches the data.</p>
    </div>

    <div id="match-expressions" class="step txt">
        <h1>Match expressions</h1>
        <p>Instead of <code>if</code>-statements, we use <em><code>match</code> expressions</em> for selecting which code to execute.  The syntax of a match expression is</p>
        <pre><code>
                match <u>data</u> with
                | <u>pattern<sub>0</sub></u> -&gt;
                   <u>code<sub>0</sub></u>
                | <u>pattern<sub>1</sub></u> -&gt;
                   <u>code<sub>1</sub></u>
                &vellip;
                | <u>pattern<sub><em>n</em></sub></u> -&gt;
                   <u>code<sub><em>n</em></sub></u>
        </code></pre>
        <p>Here's how it works:</p>
        <ol>
            <li>The <code><u>data</u></code> is matched against each <code><u>pattern</u></code>, going in order from top to bottom</li>
            <li>The <em>first</em> pattern which matches has the associated <code><u>code</u></code> executed</li>
            <li>The <span title="Remember: expressions return values, and <code>match</code> is an <em>expression</em>, not a statement!">value of the <code>match</code> expression</span> is the last value generated by <code><u>code</u></code>.</li>
        </ol>
        <p>If no pattern matches, then a <samp>MatchFailureException</samp> is thrown.  You can see an <a href="#match-example">example</a> of how this all works, if you'd like.</p>
        <p>Now that we know about <code>match</code> expressions, we have a programming construct that will let us explore patterns and <span title="Types made up of different types. For example, in C#, a class is a composite type.">composite types</span> in F#.  These are used pervasively throughout the language.  We'll start with one of the simpler data-types, the <a href="#lists">list</a>, and then move on to <span title="Tuples, records, and discriminated unions">the rest</span>.</p> 
    </div>

    <div id="lists" class="step txt">
        <h1>Lists</h1>
        <p>A list is an ordered series of elements, where each element must be of the same type.  For example,</p>
        <pre><code>
                [9;3;2;8;2;7]
        </code></pre>
        <p>&hellip; is a list of 6 <code>int</code>s.  A list is <a href="#ndcd">named</a> by the type of the element and the word <q>list</q>:</p>
        <pre><code>
                <u>elementType</u> list
        </code></pre>
        <p>&hellip; so the <a href="#ndcd">name</a> of the above list would be <code>int&nbsp;list</code>.  A list is <a href="#ndcd">created</a> in one of three main ways:</p>
        <ul>
            <li>By writing down the elements of the list one-by-one, separated by semicolons, with the whole list in square brackets.  For example, <code>[1; 3; 2; 4; 3]</code> creates a list with 5 elements.</li>
            <li>By concatenating an element to an existing list using the <code>::</code> operator (pronounced <q>cons</q>, for <a href="http://en.wikipedia.org/wiki/Cons" target="_new">historical reasons</a>).  For example, <code>1::[3;2;4;3]</code> creates a list with 5 elements.  The <code>::</code> operator is right-associative, so one can use it to create the same list by writing <code>1::3::[2;4;3]</code> or even <code>1::3::2::4::3::[]</code>.</li>
            <li>By concatenating two lists together using the <code>@</code> operator.  For example, <code>[1;3] @ [2;4;3]</code> creates a list with 5 elements.  This method of creation is often the slowest method of creating a list.</li>
        </ul>
        <p>There are <a href="https://msdn.microsoft.com/en-us/library/dd233224.aspx" target="_new">other ways to create lists</a>, but those ways tend to only be usable in specific circumstances.</p>
        <p>To <a href="#ndcd">decompose</a> a list, we use one of the <a href="#list-pattern">list patterns</a>.</p>
        <p>The next data structure that we'll look at is the <a href="#tuples">tuple</a>.</p>
    </div>

    <div id="tuples" class="step txt">
        <h1>Tuples</h1>
        <p>A tuple is an ordered grouping of data, where the data is allowed to be of different types.  For example,</p>
        <pre><code>
                265, "Liu Hui approximates &pi; to 3.1416"
        </code></pre>
        <p>&hellip; is a tuple consisting of an <code>int</code> and a <code>string</code>.  We would <a href="#ndcd">name</a> this tuple as <code>int&nbsp;*&nbsp;string</code>.  A tuple is <a href="#ndcd">created</a> by using a comma to separate the elements, as above.  Although you will sometimes see brackets used around a tuple, it is important to understand that brackets have nothing to do with creating the tuple!  Brackets are put in to clarify precedence, which is the same purpose that they are used for in mathematical expressions.</p>
        <p>Tuples are reasonably efficient and sensible data structures to use for groups of 2 to 4 items.  They become slightly less-efficient if they have more than 7 elements, but it's highly unlikely that you'll see any difference unless the block of code they're used in is very performance-sensitive.  For larger groupings of data, it's better to use another composite data type.</p>
        <p>To <a href="#ndcd">decompose</a> a tuple, we use a <a href="#tuple-pattern">tuple pattern</a>.</p>
        <p>The next data type that we'll cover is <a href="#records">records</a>.</p>
    </div>

    <div id="records" class="step txt">
        <h1>Records</h1>
        <p>A record is a grouping of data into fields.  For example,</p>
        <pre><code>
             {
                Name="Banksy"
                Talent=9001
                Related=["ABOVE"; "3D"; "Ian Bone"]
             }
        </code></pre>
        <p>&hellip; is a record with three fields (<code>Name</code>, <code>Talent</code>, and <code>Related</code>).  Records, unlike <a href="#tuples">tuples</a> and <a href="#lists">lists</a>, must be <a href="#ndcd">defined</a> before they can be created &mdash; and since F# parses files top-to-bottom, the definition must occur <em>above</em> the creation in the file.  In a multi-file project, the definition must either occur above the creation in the file, or it must occur in a file that is parsed before the file that creates the record.  Records are defined using the syntax</p>
        <pre><code>
                type <u>RecordTypeName</u> =
                   {
                      <u>Field<sub>0</sub></u> : <u>TypeOfField<sub>0</sub></u>
                      <u>Field<sub>1</sub></u> : <u>TypeOfField<sub>1</sub></u>
                      &vellip;
                      <u>Field<sub>n</sub></u> : <u>TypeOfField<sub>n</sub></u>
                   }
        </code></pre>
        <p>The <code><u>RecordTypeName</u></code> is the <a href="#ndcd">name</a> of the record.  It is conventional for field names to start with an uppercase letter.  Instead of separating the fields with newlines, you could choose to separate them with semicolons.  Fields can be of <span title="including <code><u>RecordTypeName</u></code>, actually. Records can be recursive!">any known type</span>.  To define the record shown in the above example, one could write:</p>
        <pre><code>
                type Artist =
                   {
                      Name : string
                      Talent : int
                      Related : string list
                   }
        </code></pre>
        <p>A record is <a href="#ndcd">created</a> in one of two ways:</p>
        <ol>
            <li>
                <p>By using <span title="curly brackets">braces</span> and providing values for <em>all</em> the fields.  This is called a <em>record expression</em>.  Fields may be separated by newlines, as in the example above, or they may be separated by semicolons.  Syntactically,</p>
                <pre><code>
{ <u>Field<sub>0</sub></u>=<u>Value<sub>0</sub></u>; <u>Field<sub>1</sub></u>=<u>Value<sub>1</sub></u>; &hellip; ; <u>Field<sub>n</sub></u>=<u>Value<sub>n</sub></u> }
                </code></pre>
                <p>For example, <code>{X=22.9; Y=&nbsp;-3.6}</code> would create a record, assuming that a definition such as <code>type Point = {X:float; Y:float}</code> exists.</p>
                <p>If two record definitions contain the same field name, then F# may have some difficulty figuring out which record type you intend to create.  In that case, you can remove the ambiguity by specifying the record type as part of the first field name during creation.  For example, <code>{Point.X=22.9; Y=&nbsp;-3.6}</code>.</p>
            </li>
            <li>
                <p>By using the data in another record as the basis for a new record &mdash; this is called a <em>copy &amp; update</em> record expression.  As with a <q>normal</q> record expression, braces are used.  Unlike a <q>normal</q> record expression, only the fields to be updated need to be specified.  The syntax of a copy &amp; update record expression is</p>
                <pre><code>
{ <u>basisRecord</u> with <u>Field<sub>0</sub></u>=<u>Value<sub>0</sub></u>; &hellip; ; <u>Field<sub>n</sub></u>=<u>Value<sub>n</sub></u> }
                </code></pre>
                <p>For example, assume that we already have a record <code>{X=22.9; Y=&nbsp;-3.6}</code>; for convenience, let's assume that this is given the symbolic name <code>orig</code>.  We wish to create a new record with the same X-coordinate, but with a Y-coordinate of 7.24.  This can be achieved by the expression <code>{orig with Y=7.24}</code>.</p>
            </li>
        </ol>
        <p>A record can be <a href="#ndcd">decomposed</a> using a <a href="#record-pattern">record pattern</a>.  Each field of the record can also be accessed using <em>dot syntax</em>: for example, given a record <code>k</code> of type <span title="See top of this section"><code>Artist</code></span>, the code <code>k.Name</code> will give the artist's name.  Note, however, that record pattern decomposition tends to be much more powerful, so <span title="With experience, you'll get a good feel for when to use each.">try to prefer using it instead of dot syntax</span>.</p>
        <p>The last data type that we'll explore in this course is the <a href="#discriminated-unions">discriminated union</a>.</p>
    </div>

    <div id="discriminated-unions" class="step txt">
        <h1>Discriminated Unions</h1>
        <p>A <em>discriminated union</em> represents <em>one</em> of the items from a limited set of possible categories.  Unlike <a href="#lists">lists</a>, <a href="#tuples">tuples</a>, and <a href="#records">records</a>, a discriminated union has no comparable analogue in mainstream object-oriented languages.  In a discriminated union, each category is called a <em>case</em> (<span title="I will use the terms interchangeably">or <em>tag</em></span>), and each case can optionally have some data associated with it.</p>
        <p>To <a href="#ndcd">define</a> a basic discriminated union, use the syntax</p>
        <pre><code>
                type <u>TypeName</u> =
                | <u>Case<sub>0</sub></u><span class="optional"> of <u>type<sub>0</sub></u></span>
                | <u>Case<sub>1</sub></u><span class="optional"> of <u>type<sub>1</sub></u></span>
                &vellip;
                | <u>Case<sub>n</sub></u><span class="optional"> of <u>type<sub>n</sub></u></span>
        </code></pre>
        <p>The <a href="#ndcd">name</a> of the discriminated union is <code><u>TypeName</u></code>.  Both the <code><u>TypeName</u></code> and each <code><u>Case</u></code> name should start with an uppercase letter To <a href="#ndcd">create</a> a discriminated union of this type, use the name of the <em>case</em> that is being created (e.g. <code><u>Case<sub>1</sub></u></code>), followed by the code necessary to create the <u>data</u> associated with that case (if any).  To <a href="#ndcd">decompose</a> a discriminated union, you would use a <a href="#case-pattern">pattern</a>.</p>
        <h2>Example</h2>
        <p>An example may help to see how this works.  Let's use a discriminated union to represent popular desktop operating systems.  The market is split between Windows, OSX, and Linux: <span title="As of December 2014, see <a href=&quot;http://www.netmarketshare.com/operating-system-market-share.aspx?qprid=10&amp;qpcustomd=0&quot;>here</a>">all other desktop operating systems have approximately 0.5% of the market when combined</span>.  So, we'll represent the operating systems with the following two discriminated unions:</p>
        <pre><code>
                type WinVersion =
                | Win7
                | Vista
                | XP
                | Win95
                | Win311

                type OS =
                | Windows of WinVersion
                | OSX
                | Linux of string * float
        </code></pre>
        <p>No data is associated with any of the cases of the <code>WinVersion</code> type.  The data associated with the <code>Windows</code> case of the <code>OS</code> type is a discriminated union of type <code>WinVersion</code>.  There is no data associated with the <code>OSX</code> case of the <code>OS</code> type.  The data associated with the <code>Linux</code> case of the <code>OS</code> type is a <code>string&nbsp;*&nbsp;float</code> tuple which represents the distribution name and kernel version.</p>
        <p>Note that an operating system cannot <em>simultaneously</em> be more than one of these.  To create an <code>OS</code>, you would type the case name and some associated data.  For example, to create an Ubuntu Linux OS running kernel 3.11, you would type in <span title="IMPORTANT REMINDER: The tuple is created by the <code>,</code> operator. The brackets are just for precedence."><code>Linux ("Ubuntu", 3.11)</code></span>.  To create a Windows 95 OS, you would type in <code>Windows Win95</code>.</p>
        <hr />
        <p>That concludes our exploration of data structures; here is a <a href="#composite-types">single-page recap</a>.  There are a few more that F# provides (such as <code>Set</code>, <code>Map</code>, interfaces and classes), but <span title="Some for reasons of time, others for reasons of relevance to the functional paradigm">we won't be covering those</span>.  Instead, let's jump right into the thing that gives functional programming its name: <a href="#functions-part-1">functions</a>!</p>
    </div>

    <div id="composite-types" class="step txt">
        <h1>Composite Types: a recap</h1>
        <p>All of the types we've learned about <span title="<img style=&quot;width:50%;float:left;margin-right:1ex&quot; src=&quot;http://www.e-action.us/wsfilmfestival/images/captplanet.jpg&quot; /><q>When your types combine, ...</q>">can be combined to form</span> larger <em>composite types</em>.  A class in C# is an example of a <em>composite</em> type: it is a type which contains other types.  F# supports <span title="...including objects, but we won't be using objects in this module at all">a wide variety of composite types</span> which are useful in a variety of situations.  Each type has <a href="#ndcd">a way of being defined, a way of being created, and ways of being decomposed</a>.</p>
        <ul>
            <li>To represent a group of data where each element has the <em>same</em> type, you would use a <a href="#lists">list</a>.  Example use-case: representing the names of every member of the class.  (You could also use an array, and F# supports arrays natively; but lists are a more functional data structure, so we'll be using them instead).</li>
            <li>To represent a group of data where elements have <em>different</em> types, you would use a <a href="#tuples">tuple</a> or a <a href="#records">record</a>.  Example use-case: representing the name, height, and weight of every member of the class.</li>
            <li>To represent a data which must be one of a limited set of known categories, you would use a <a href="#discriminated-unions">discriminated union</a>.  Example use-case: representing an atomic particle as <span title="It is impossible for an atomic particle to be anything except for one of these, and an atomic particle cannot be more than one of these."><em>one of</em> Electron, Neutron, or Proton</span>.
        </ul>
        <p>Of course, you can use composite types to create other composite types!  For example, you can make a list of discriminated unions, where each discriminated union has a tuple or record associated with it, and each record has a field that is a discriminated union, which might be associated with a list &hellip; and so on.</p>
    </div>

    <div id="unit-type-example" class="step txt">
        <p>Let's say that you have a function that takes a username and password, and authenticates the user to a server on the network.</p>
        <pre><code>
                let authenticate user pass =
                   doAuthentication user pass
        </code></pre>
        <p>The <code>doAuthentication</code> function, and consequently the <code>authenticate</code> function, outputs <code>()</code>; the <span title="Sadly, there are real-world APIs that work this way :-(">only way to check whether it succeeded is by trying another request and seeing if an error occurs</span>.  Sometimes the server will go down, or network troubles will happen, or gremlins will cause hardware to malfunction.  Whatever the reason, reauthentication is occasionally necessary.  The user has already put in their username and password once; it would annoy them to ask for their details again.  Instead, your system should reauthenticate them silently as-needed.  Take a moment to think about how you might do that in the object-oriented paradigm, then hover over the blurred text to see a way in which a functional programmer might approach it.</p>
        <div class="spoiler" href="#unit-type">
            <p>At the point where the authentication occurs, the user has already given us a username and password.  Therefore, all that we need to do is store the data somewhere and use it to reauthenticate when necessary.  In an object-oriented world, we might store the username and password somewhere in memory, and then retrieve the values to call authenticate again when we need to.  In the functional paradigm, you'd use a function to do this instead.  Let's change the <code>authenticate</code> function to output a function which will reauthenticate us.</p>
            <pre><code>
                    let authenticate user pass =
                       doAuthentication user pass
                       fun () -&gt; doAuthentication user pass
            </code></pre>
            <p>By passing a function back, we are able to delay using the functionality until we actually need to use it.  Note that we need to be able to call the <q>reauthentication</q> function, but the function already has all the input that it requires.  However, a function takes one input and produces one output, so we must give it <em>something</em> as input.  In this case, passing it a <q>useless</q> input is a sensible thing to do, so we specify the input using the <a href="#constant-pattern">constant pattern</a> <code>()</code>.</p>
            <p>We would typically pass this function to the function that makes requests, and whenever we need to, call it to reauthenticate ourselves.  So our use might look something like:</p>
            <pre><code>
                    let makeRequest reauthenticate &hellip; =
                       &vellip; some code here
                       // whenever a request fails:
                       reauthenticate ()
                       &vellip; some more code here

                    &vellip;

                    let f = authenticate userInput passInput
                    &vellip;
                    makeRequest f &hellip;
            </code></pre>
            <p>Of course, in an actual system, you might want more functionality.  For instance, you might want to only make a certain number of reauthentication attempts before giving up.  Adding in such functionality is reasonably easy in the functional paradigm, and makes for an interesting exercise for the reader.  Can you see how it might be done?</p>
        </div>        
    </div>
    
    <div id="unit-type" class="step txt">
        <h1>The <code>unit</code> type</h1>
        <p>The <code>unit</code> type has a single possible value: <code>()</code> .  If you think this is strange, it's not much stranger than the <code>bool</code> type only having two possible values: <code>true</code> and <code>false</code>.</p>
        <p>A <code>()</code> value is often supplied to <a href="#functions-part-1">functions</a> where the input is disregarded, and it is often the output of functions where the output is irrelevant.  Aside from these cases, you will rarely see a <code>()</code> being used in functional code.  You can see an example of <code>()</code> being used <a href="#unit-type-example">here</a>.</p>
       <p>Now that you know about the <code>unit</code> type, you know all about the fundamentals of F#.  On the way to here, you should also have learned about <a href="#type-inference">type inference</a>, <a href="#type-annotations">type annotations</a>, <a href="#function-types">function types</a>, and <a href="#generic">generic types</a>.  If you've skipped one of those links, now's the time to catch up.</p>
    </div>
    
    <div id="ndcd" class="step txt">
        <h1>Naming, Definition, Creation, and Decomposition</h1>
        <p>Every composite type has a way of being named, defined, created, and decomposed.  This sounds complicated, but it's not:  in fact, you already know how to do it, and you've been doing it for years in a non-functional language.  If you don't believe me, read on, and you'll see that it's true!</p>
        <p>Let's use C# as our language, and a class as our composite type.  We'll start with an empty class, which we shall <em>name</em> <code>Wtf</code>.</p>
        <pre><code>
                class Wtf {
                }
        </code></pre>
        <p>Now, you want to add an <code>int</code> property to this class &mdash; in other words, you want to <em>define</em> some of the data that makes up the composite type.  So, you write</p>
        <pre><code>
                class Wtf {
                    public int Ftw { get; set; }
                }
        </code></pre>
        <p>When you want to <em>create</em> an instance of the class, you write</p>
        <pre><code>
                Wtf v = new Wtf();
        </code></pre>
        <p>And when you want to get the value of the <code>int</code> from inside the object &mdash; in other words, you want to <em>decompose</em> the object to get at the actual data inside it &mdash; you would write</p>
        <pre><code>
                int whatever = v.Ftw;
        </code></pre>
        <p>Take a look at the code above.  It's not unfamiliar or complex; by now, you should have created and used hundreds of classes in your own projects.  Can you see that you write completely different code to <em>name</em>, <em>define</em>, <em>create</em>, and <em>decompose</em> a composite type in C#?  In <span title="C, Python, Java, JavaScript, ...">other languages</span> that you've used, you'll notice similar naming, definition, creation, and decomposition of data types.</p>
        <p>Not all composite types are complex enough to warrant a definition step.  For example, in C#, an array is a composite type, but you don't have to define it: you simply <span title="e.g. <code>int[]</code>">name it</span>, <span title="e.g. <code>new int[5]</code>">create it</span>, and <span title="e.g. <code>myArray[5]</code>">decompose it</span>.</p>
        <p>Naming, definition, creation, and decomposition are all interrelated.  After all, you cannot create something that you haven't defined; you can't decompose what hasn't been defined or created; there's no point in defining or creating unless you can decompose to get the data out; and you can't use a type in another composite type without naming the type you want to use.</p>
        <p>The same applies to types in F#.  Each type has a way in which it is named; a way in which it is defined; a way in which it is created; and ways in which it is decomposed.  Once you learn how to name, define, create, and decompose a type, you will be able to use a type.</p>
    </div>
    
    <script src="impresst.js/impresst.js"></script>
    <script>
    impress().init();
    (function(){
        var linked = [].slice.call(document.querySelectorAll('a')).map(function(x){return x.attributes.href.value}).filter(function(x){return x[0]==='#'});
        var linked_set = new Set(linked);
        var created = [].slice.call(document.querySelectorAll("div.step.txt")).map(function(x){return '#' + x.id;});
        var created_set = new Set(created);
        // linked, but not created
        linked.filter(function(x){return !created_set.has(x)}).forEach(function(x){console.log('Linked, but not created: ' + x);});
        // created, but not linked
        created.filter(function(x){return x!=='#primary'&&!linked_set.has(x)}).forEach(function(x){console.log('Created, but not linked: ' + x);});        
    })();
    </script>
    
</body>
</html>

